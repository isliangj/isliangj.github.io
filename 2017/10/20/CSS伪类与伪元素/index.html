<!DOCTYPE html>
<html lang="zh-CN">
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content>
  <meta name="keywords" content>
  
    <link rel="icon" href="/favicon.ico">
  
    
  <title>CSS伪类与伪元素 | isliangj&#39;s Blog</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/lib/jquery.fancybox.min.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>isliangj's Blog</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
        <section class="content markdown-body">
          <h1>CSS伪类与伪元素</h1>
          <div class='post-meta'>
            <i class="fa fa-calendar" aria-hidden="true"></i> <time>2017年10月20日</time>
            
            
              | 
                  <i class="fa fa-tags" aria-hidden="true"></i>
                
               
  <a href="/tags/#笔记" class='tag'>笔记</a>

  <a href="/tags/#CSS" class='tag'>CSS</a>


            
          </div>
          <h2 id="定义与区别"><a href="#定义与区别" class="headerlink" title="定义与区别"></a>定义与区别</h2><h3 id="1-伪类"><a href="#1-伪类" class="headerlink" title="1. 伪类"></a>1. 伪类</h3><p>用于当已有元素处于的某个状态时，为其添加对应的样式，这个状态是根据用户行为而动态变化的。比如说，当用户悬停在指定的元素时，我们可以通过:hover 来描述这个元素的状态。</p>
<h3 id="2-伪元素"><a href="#2-伪元素" class="headerlink" title="2. 伪元素"></a>2. 伪元素</h3><p>用于创建一些不在文档树中的元素，并为其添加样式。比如说，我们可以通过:before 来在一个元素前增加一些文本，并为这些文本添加样式。<br>虽然用户可以看到这些文本，但是这些文本实际上不在文档树中。</p>
<h3 id="3-区别"><a href="#3-区别" class="headerlink" title="3. 区别"></a>3. 区别</h3><p>伪类的操作对象是文档树中已有的元素，而伪元素则创建了一个文档树外的元素。<br>因此，伪类与伪元素的区别在于：有没有创建一个文档树之外的元素。</p>
<h3 id="4-单冒号还是双冒号"><a href="#4-单冒号还是双冒号" class="headerlink" title="4. 单冒号还是双冒号"></a>4. 单冒号还是双冒号</h3><p>CSS3 规范中的要求使用双冒号(::)表示伪元素，以此来区分伪元素和伪类。<br>然而，除了少部分伪元素，如::backdrop 必须使用双冒号，大部分伪元素都支持单冒号和双冒号的写法，比如::after，写成:after 也可以正确运行。</p>
<h2 id="具体用法"><a href="#具体用法" class="headerlink" title="具体用法"></a>具体用法</h2><h3 id="一、伪类"><a href="#一、伪类" class="headerlink" title="一、伪类"></a>一、伪类</h3><h4 id="1-状态"><a href="#1-状态" class="headerlink" title="1. 状态"></a>1. 状态</h4><ul>
<li><strong>:link</strong></li>
</ul>
<p>选择未访问的链接</p>
<ul>
<li><strong>:visited</strong></li>
</ul>
<p>选择已访问的链接</p>
<ul>
<li><strong>:hover</strong></li>
</ul>
<p>选择鼠标指针浮动在其上的元素</p>
<ul>
<li><strong>:active</strong></li>
</ul>
<p>选择活动的链接</p>
<ul>
<li><strong>:focus</strong></li>
</ul>
<p>选择获取焦点的输入字段</p>
<h4 id="2-结构化"><a href="#2-结构化" class="headerlink" title="2. 结构化"></a>2. 结构化</h4><ul>
<li><strong>:not</strong></li>
</ul>
<p>一个否定伪类，用于匹配不符合参数选择器的元素</p>
<p>例如：除了第一个<code>&lt;li&gt;</code>元素外，其他<code>&lt;li&gt;</code>元素的文本都会变为橙色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"first-item"</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:not(.first-item)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:first-child</strong></li>
</ul>
<p>匹配元素的第一个子元素</p>
<ul>
<li><strong>: last-child</strong></li>
</ul>
<p>匹配元素的最后一个子元素</p>
<ul>
<li><strong>:first-of-type</strong></li>
</ul>
<p>匹配属于其父元素的首个特定类型的子元素的每个元素</p>
<p>例如，第一个<code>&lt;li&gt;</code>元素和第一个<code>&lt;span&gt;</code>元素的文本会变为橙色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>这里的文本是橙色的<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本 <span class="tag">&lt;<span class="name">span</span>&gt;</span>这里的文本是橙色的<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-pseudo">:first-of-type</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:last-of-type</strong></li>
</ul>
<p>匹配元素的最后一个子元素</p>
<ul>
<li><strong>:nth-child</strong></li>
</ul>
<p>根据元素的位置匹配一个或者多个元素，它接受一个 an+b 形式的参数，an+b 匹配到的元素示例如下：1n+0，或 n，匹配每一个子元素；2n+0，或 2n，匹配位置为 2、4、6、8…的子元素，该表达式与关键字 even 等价；2n+1 匹配位置为 1、3、5、7…的子元素、该表达式与关键字 odd 等价；3n+4 匹配位置为 4、7、10、13…的子元素。</p>
<p>例如，有以下 HTML 列表：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Alpha<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Beta<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Gamma<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Delta<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Epsilon<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Zeta<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Eta<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Theta<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Iota<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Kappa<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>选择第二个元素，”Beta”会变成橙色：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> <span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>选择位置序号是 2 的倍数的元素，”Beta”, “Delta”, “Zeta”, “kappa”会变成橙色:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> <span class="selector-pseudo">:nth-child(2n)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:nth-last-child</strong></li>
</ul>
<p>与:nth-child 相似，不同之处在于它是从最后一个子元素开始计数的</p>
<ul>
<li><strong>:nth-of-type</strong></li>
</ul>
<p>与 nth-child 相似，不同之处在于它是只匹配特定类型的元素</p>
<p>例如，第二个<code>&lt;p&gt;</code>元素会变为橙色</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/rwd.png"</span> <span class="attr">alt</span>=<span class="string">"Mastering RWD"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>这里的文本是橙色的<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:nth-of-type(2)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:nth-last-type</strong></li>
</ul>
<p>与 nth-of-type 相似，不同之处在于它是从最后一个子元素开始计数的</p>
<ul>
<li><strong>:only-child</strong></li>
</ul>
<p>当元素是其父元素中唯一一个子元素时，:only-child 匹配该元素</p>
<p>例如:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>这里的文本是橙色的<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-pseudo">:only-child</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:only-of-type</strong></li>
</ul>
<p>当元素是其父元素中唯一一个特定类型的子元素时，:only-child 匹配该元素</p>
<p>例如：第一个 ul 元素只有一个 li 类型的元素，该 li 元素的文本会变为橙色</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>这里的文本是橙色的<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>这里不是橙色<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>一些文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:only-of-type</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:target</strong></li>
</ul>
<p>当 URL 带有锚名称，指向文档内某个具体的元素时，:target 匹配该元素</p>
<p>例如，url 中的 target 命中 id 值为 target 的 article 元素，article 元素的背景会变为黄色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">id</span>=<span class="string">"target"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span>:target<span class="tag">&lt;/<span class="name">code</span>&gt;</span> pseudo-class<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:target</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-表单相关"><a href="#4-表单相关" class="headerlink" title="4. 表单相关"></a>4. 表单相关</h4><ul>
<li><strong>:checked</strong></li>
</ul>
<p>:checked 匹配被选中的 input 元素，这个 input 元素包括 radio 和 checkbox</p>
<p>例如，当复选框被选中时，与其相邻的<code>&lt;label&gt;</code>元素的背景会变成黄色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>我同意<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:default</strong></li>
</ul>
<p>:default 匹配默认选中的元素，例如：提交按钮总是表单的默认按钮</p>
<p>例如：只有提交按钮的背景变成了黄色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"#"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:default</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:disabled</strong></li>
</ul>
<p>:disabled 匹配禁用的表单元素</p>
<p>例如，被禁用 input 输入框的透明度会变成 50%。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">disabled</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:disabled</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:empty</strong></li>
</ul>
<p>:empty 匹配没有子元素的元素。如果元素中含有文本节点、HTML 元素或者一个空格，则:empty 不能匹配这个元素</p>
<p>例如，:empty 能匹配的元素会变为黄色，第一个元素中有文本节点，所以其背景不会变成黄色；第二个元素中有一个空格，有空格则该元素不为空，所以其背景不会变成黄色；第三个元素中没有任何内容，所以其背景会变成黄色；第四个元素中只有一个注释，此时该元素是空的，所以其背景会变成黄色；</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>这个容器里的背景是橙色的<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- This comment is not considered content --&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:empty</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:enabled</strong></li>
</ul>
<p>匹配没有设置 disabled 属性的表单元素</p>
<ul>
<li><strong>:in-range</strong></li>
</ul>
<p>匹配在指定区域内元素</p>
<p>例如：</p>
<p>如下例，当数字选择器的数字在 5 到 10 是，数字选择器的边框会设为绿色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">min</span>=<span class="string">"5"</span> <span class="attr">max</span>=<span class="string">"10"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='number']</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='number']</span><span class="selector-pseudo">:in-range</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:out-of-range</strong></li>
</ul>
<p>:out-of-range 与:in-range 相反，它匹配不在指定区域内的元素</p>
<ul>
<li><strong>:indeterminate</strong></li>
</ul>
<p>当某组中的单选框或复选框还没有选取状态时，:indeterminate 匹配该组中所有的单选框或复选框。</p>
<p>例如，当下面的一组单选框没有一个处于被选中时，与 input 相邻的 label 元素的背景会被设为橙色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"list"</span> <span class="attr">id</span>=<span class="string">"option1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"option1"</span>&gt;</span>Option 1<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"list"</span> <span class="attr">id</span>=<span class="string">"option2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"option2"</span>&gt;</span>Option 2<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"list"</span> <span class="attr">id</span>=<span class="string">"option3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"option3"</span>&gt;</span>Option 3<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:indeterminate</span> + <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:valid</strong></li>
</ul>
<p>:valid 匹配条件验证正确的表单元素</p>
<p>例如，当 email 输入框内的值符合 email 格式时，输入框的边框会被设为绿色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='email']</span><span class="selector-pseudo">:valid</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:invalid</strong></li>
</ul>
<p>:invalid 与:valid 相反，匹配条件验证错误的表单元素</p>
<ul>
<li><strong>:optional</strong></li>
</ul>
<p>匹配是具有 optional 属性的表单元素。当表单元素没有设置为 required 时，即为 optional 属性。</p>
<p>例如，第一个 input 的背景不会被设为黄色，第二个 input 的背景会被设为黄色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:optional</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:required</strong></li>
</ul>
<p>与:optional 相反匹配设置了 required 属性的表单元素</p>
<ul>
<li><strong>:read-only</strong></li>
</ul>
<p>匹配设置了只读属性的元素，表单元素可以通过设置“readonly”属性来定义元素只读。</p>
<p>例如，input 元素的背景会被设为黄色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"I am read only"</span> <span class="attr">readonly</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:read-only</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:read-write</strong></li>
</ul>
<p>匹配处于编辑状态的元素。input，textarea 和设置了 contenteditable 的 HTML 元素获取焦点时即处于编辑状态。</p>
<p>例如，input 输入框和富文本框获取焦点时，背景变成黄色。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"获取焦点时背景变黄"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"editable"</span> <span class="attr">contenteditable</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>点击这里可以编辑<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>获取焦点时背景变黄<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:read-write</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5-语言相关"><a href="#5-语言相关" class="headerlink" title="5. 语言相关"></a>5. 语言相关</h4><ul>
<li><strong>:lang</strong></li>
</ul>
<p>匹配设置了特定语言的元素，设置特定语言可以通过为了 HTML 元素设置 lang=””属性，设置 meta 元素的 charset=””属性，或者是在 http 头部上设置语言属性。</p>
<p>实际上，lang=””属性不只可以在 html 标签上设置，也可以在其他的元素上设置。</p>
<p>例如，分别给不同的语言设置不同的引用样式：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">q</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">lang</span>=<span class="string">"fr"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">q</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">lang</span>=<span class="string">"de"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">q</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:lang(en)</span> <span class="selector-tag">q</span> &#123;</span><br><span class="line">  <span class="attribute">quotes</span>: <span class="string">'“'</span> <span class="string">'”'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:lang(fr)</span> <span class="selector-tag">q</span> &#123;</span><br><span class="line">  <span class="attribute">quotes</span>: <span class="string">'«'</span> <span class="string">'»'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:lang(de)</span> <span class="selector-tag">q</span> &#123;</span><br><span class="line">  <span class="attribute">quotes</span>: <span class="string">'»'</span> <span class="string">'«'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-其他"><a href="#6-其他" class="headerlink" title="6. 其他"></a>6. 其他</h4><ul>
<li><strong>:root</strong></li>
</ul>
<p>匹配文档的根元素。一般的 html 文件的根元素是 html 元素</p>
<p>例如，将 html 元素的背景设置为橙色</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">    background: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>:fullscreen</strong></li>
</ul>
<p>匹配处于全屏模式下的元素。全屏模式不是通过按 F11 来打开的全屏模式，而是通过 Javascript 的 Fullscreen API 来打开的，不同的浏览器有不同的 Fullscreen API。目前，:fullscreen 需要添加前缀才能使用。</p>
<p>例如，当处于全屏模式时，h1 元素的背景会变成橙色</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">"element"</span>&gt;</span>在全屏模式下，这里的文本的背景会变成橙色.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>进入全屏模式!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> docelem = <span class="built_in">document</span>.getElementById(<span class="string">'element'</span>)</span><br><span class="line"><span class="keyword">var</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>)</span><br><span class="line">button.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (docelem.requestFullscreen) &#123;</span><br><span class="line">    docelem.requestFullscreen()</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (docelem.webkitRequestFullscreen) &#123;</span><br><span class="line">    docelem.webkitRequestFullscreen()</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (docelem.mozRequestFullScreen) &#123;</span><br><span class="line">    docelem.mozRequestFullScreen()</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (docelem.msRequestFullscreen) &#123;</span><br><span class="line">    docelem.msRequestFullscreen()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:fullscreen</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:-webkit-full-screen</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:-moz-full-screen</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:-ms-fullscreen</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二、伪元素"><a href="#二、伪元素" class="headerlink" title="二、伪元素"></a>二、伪元素</h3><ul>
<li><strong>::before/:before</strong></li>
</ul>
<p>在被选元素前插入内容。<br>需要使用 content 属性来指定要插入的内容。<br>被插入的内容实际上不在文档树中。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'Hello '</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>::after/:after</strong></li>
</ul>
<p>在被元素后插入内容，其用法和特性与:before 相似</p>
<ul>
<li><strong>::first-letter/:first-letter</strong></li>
</ul>
<p>匹配元素中文本的首字母。被修饰的首字母不在文档树中</p>
<ul>
<li><strong>::first-line/:first-line</strong></li>
</ul>
<p>匹配元素中第一行的文本。<br>这个伪元素只能用在块元素中，不能用在内联元素中</p>
<ul>
<li><strong>::selection</strong></li>
</ul>
<p>匹配用户被用户选中或者处于高亮状态的部分<br>在火狐浏览器使用时需要添加-moz 前缀<br>该伪元素只支持双冒号的形式</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">::-moz-selection</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::selection</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>::placeholder</strong></li>
</ul>
<p>匹配占位符的文本，只有元素设置了 placeholder 属性时，该伪元素才能生效。<br>该伪元素不是 CSS 的标准，它的实现可能在将来会有所改变，所以要决定使用时必须谨慎<br>在一些浏览器中（IE10 和 Firefox18 及其以下版本）会使用单冒号的形式。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">placeholder</span>=<span class="string">"name@domain.com"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-moz-placeholder</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* IE 10 only */</span></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:-ms-input-placeholder</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Firefox 18 and below */</span></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:-moz-input-placeholder</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>::backdrop(处于试验阶段)</strong></li>
</ul>
<p>用于改变全屏模式下的背景颜色，全屏模式的默认颜色为黑色。<br>该伪元素只支持双冒号的形式</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">"element"</span>&gt;</span>This heading will have a solid background color in full-screen mode.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"var el = document.getElementById('element'); el.webkitRequestFullscreen();"</span>&gt;</span>Trigger full screen!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:fullscreen</span><span class="selector-pseudo">::backdrop</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="http://www.alloyteam.com/2016/05/summary-of-pseudo-classes-and-pseudo-elements/" target="_blank" rel="noopener">AlloyTeam-总结伪类与伪元素</a></p>

        </section>
    </article>
    
        <!-- disqus 评论框 start -->
        <div class="comment">
            <div id="disqus_thread" class="disqus-thread">
              <i>加载评论框需要翻墙</i>
            </div>
        </div>
        <!-- disqus 评论框 end -->
    
        
  </div>
  <aside>
    
    <div class="toc-container">
        <h1>目录</h1>
        <div class="content">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#定义与区别"><span class="toc-number">1.</span> <span class="toc-text">定义与区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-伪类"><span class="toc-number">1.1.</span> <span class="toc-text">1. 伪类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-伪元素"><span class="toc-number">1.2.</span> <span class="toc-text">2. 伪元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-区别"><span class="toc-number">1.3.</span> <span class="toc-text">3. 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-单冒号还是双冒号"><span class="toc-number">1.4.</span> <span class="toc-text">4. 单冒号还是双冒号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#具体用法"><span class="toc-number">2.</span> <span class="toc-text">具体用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、伪类"><span class="toc-number">2.1.</span> <span class="toc-text">一、伪类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-状态"><span class="toc-number">2.1.1.</span> <span class="toc-text">1. 状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-结构化"><span class="toc-number">2.1.2.</span> <span class="toc-text">2. 结构化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-表单相关"><span class="toc-number">2.1.3.</span> <span class="toc-text">4. 表单相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-语言相关"><span class="toc-number">2.1.4.</span> <span class="toc-text">5. 语言相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-其他"><span class="toc-number">2.1.5.</span> <span class="toc-text">6. 其他</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、伪元素"><span class="toc-number">2.2.</span> <span class="toc-text">二、伪元素</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文章"><span class="toc-number">3.</span> <span class="toc-text">参考文章</span></a></li></ol>
        </div>
    </div>
    
  </aside>
</main>

<!-- disqus 公共JS代码 -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = "https-isliangj-github-io";
  var disqus_identifier = "https://isliangj.github.io/2017/10/20/CSS伪类与伪元素/";
  var disqus_url = "https://isliangj.github.io/2017/10/20/CSS伪类与伪元素/";

  isAgent(getDisqus)

  // determine user agent in China
  function isAgent(cb) {
    var url = '//graph.facebook.com/feed?callback=h';
    var xhr = new XMLHttpRequest();
    var called = false;
    xhr.open('GET', url);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4 && xhr.status === 200) {
      called = true;
      cb(true);
      }
    };
    xhr.send();
    // timeout 1s, this facebook API is very fast.
    setTimeout(function() {
      if (!called) {
      xhr.abort();
      cb(false)
      }
    }, 1000);
  }

  function getDisqus(isAgent) {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; 
    dsq.async = true
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq)
  }
</script>
<!-- disqus 公共JS代码 end -->



  <footer>
  <div class="copyright">
    <div>
      &copy;
      2019 | Powered by
        <a href="https://hexo.io" target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by
      <a href="https://github.com/lewis-geek/hexo-theme-Aath" target="_blank">Aath</a>
    </div>
  </div>
</footer>



  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://"); document.write(unescape("%3Cspan id='cnzz_stat_icon_1273330571'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1273330571%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>
  <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="/lib/in-view.min.js"></script>
    <script src="/lib/lodash.min.js"></script>
      <script>
        var isDown = true
        var oldY = 0
        inView.offset(50)

        document.body.addEventListener('touchstart', function () { });

        window.addEventListener('scroll', _.throttle(e => {
          var currentY = window.scrollY
          if ((oldY - currentY) < 0) {
            isDown = true
          } else {
            isDown = false
          }
          oldY = currentY
        }, 250))

        $("article img").each(function () {
          var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
          $(this).wrapAll(strA);
        });

        $('.toc-link').each(function () {
          var href = $(this).attr("href");

          inView(href).on('exit', () => {
            if (isDown) {
              handleActive(href)
            }
          })

          inView(href).on('enter', () => {
            if (!isDown) {
              handleActive(href)
            }
          })

          this.onclick = function (e) {
            var pos = $(href).offset().top - 10;
            $("html,body").animate({ scrollTop: pos }, 300);
            setTimeout(() => {
              handleActive(href)
            }, 350)
            return false
          }
        })

        function handleActive(href) {
          document.querySelectorAll('.toc-link').forEach(elm => {
            elm.classList.remove('active')
          })
          document.querySelector(".toc [href='" + href + "']").classList.add('active')
        }
      </script>
      <script src="/lib/jquery.fancybox.min.js"></script>
        

</body>
</html>
