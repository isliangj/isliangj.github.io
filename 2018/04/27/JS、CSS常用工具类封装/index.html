<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="">
  <meta name="keywords" content="">
  
    <link rel="icon" href="/favicon.ico">
  
    
  <title>JS、CSS常用工具类封装 | isliangj&#39;s Blog</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/lib/jquery.fancybox.min.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>isliangj's Blog</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
        <section class="content markdown-body">
          <h1>JS、CSS常用工具类封装</h1>
          <div class='post-meta'>
            <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年04月27日</time>
            
            
              | 
                  <i class="fa fa-tags" aria-hidden="true"></i>
                
               
  <a href="/tags/#笔记" class='tag'>笔记</a>

  <a href="/tags/#CSS" class='tag'>CSS</a>

  <a href="/tags/#JS" class='tag'>JS</a>


            
          </div>
          <h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="1-判断类型"><a href="#1-判断类型" class="headerlink" title="1. 判断类型"></a>1. 判断类型</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">isString (o) &#123; <span class="comment">//是否字符串</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'String'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isNumber (o) &#123; <span class="comment">//是否数字</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Number'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isBoolean (o) &#123; <span class="comment">//是否boolean</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Boolean'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isFunction (o) &#123; <span class="comment">//是否函数</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Function'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isNull (o) &#123; <span class="comment">//是否为null</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Null'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isUndefined (o) &#123; <span class="comment">//是否undefined</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Undefined'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isObj (o) &#123; <span class="comment">//是否对象</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Object'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isArray (o) &#123; <span class="comment">//是否数组</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Array'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isDate (o) &#123; <span class="comment">//是否时间</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Date'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isRegExp (o) &#123; <span class="comment">//是否正则</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'RegExp'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isError (o) &#123; <span class="comment">//是否错误对象</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Error'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isSymbol (o) &#123; <span class="comment">//是否Symbol函数</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Symbol'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isPromise (o) &#123; <span class="comment">//是否Promise对象</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Promise'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isSet (o) &#123; <span class="comment">//是否Set对象</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Set'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">isFalse (o) &#123;</div><div class="line">    <span class="keyword">if</span> (!o || o === <span class="string">'null'</span> || o === <span class="string">'undefined'</span> || o === <span class="string">'false'</span> || o === <span class="string">'NaN'</span>) <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">isTrue (o) &#123;</div><div class="line">    <span class="keyword">return</span> !<span class="keyword">this</span>.isFalse(o)</div><div class="line">&#125;</div><div class="line"></div><div class="line">isIos () &#123;</div><div class="line">    <span class="keyword">var</span> u = navigator.userAgent;</div><div class="line">    <span class="keyword">if</span> (u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//安卓手机</span></div><div class="line">        <span class="comment">// return "Android";</span></div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (u.indexOf(<span class="string">'iPhone'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//苹果手机</span></div><div class="line">        <span class="comment">// return "iPhone";</span></div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (u.indexOf(<span class="string">'iPad'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//iPad</span></div><div class="line">        <span class="comment">// return "iPad";</span></div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (u.indexOf(<span class="string">'Windows Phone'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//winphone手机</span></div><div class="line">        <span class="comment">// return "Windows Phone";</span></div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">isPC () &#123; <span class="comment">//是否为PC端</span></div><div class="line">    <span class="keyword">var</span> userAgentInfo = navigator.userAgent;</div><div class="line">    <span class="keyword">var</span> Agents = [<span class="string">"Android"</span>, <span class="string">"iPhone"</span>,</div><div class="line">                <span class="string">"SymbianOS"</span>, <span class="string">"Windows Phone"</span>,</div><div class="line">                <span class="string">"iPad"</span>, <span class="string">"iPod"</span>];</div><div class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> v = <span class="number">0</span>; v &lt; Agents.length; v++) &#123;</div><div class="line">        <span class="keyword">if</span> (userAgentInfo.indexOf(Agents[v]) &gt; <span class="number">0</span>) &#123;</div><div class="line">            flag = <span class="literal">false</span>;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> flag;</div><div class="line">&#125;</div><div class="line"></div><div class="line">browserType()&#123;</div><div class="line">    <span class="keyword">var</span> userAgent = navigator.userAgent; <span class="comment">//取得浏览器的userAgent字符串</span></div><div class="line">    <span class="keyword">var</span> isOpera = userAgent.indexOf(<span class="string">"Opera"</span>) &gt; <span class="number">-1</span>; <span class="comment">//判断是否Opera浏览器</span></div><div class="line">    <span class="keyword">var</span> isIE = userAgent.indexOf(<span class="string">"compatible"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"MSIE"</span>) &gt; <span class="number">-1</span> &amp;&amp; !isOpera; <span class="comment">//判断是否IE浏览器</span></div><div class="line">    <span class="keyword">var</span> isIE11 = userAgent.indexOf(<span class="string">'Trident'</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"rv:11.0"</span>) &gt; <span class="number">-1</span>;</div><div class="line">    <span class="keyword">var</span> isEdge = userAgent.indexOf(<span class="string">"Edge"</span>) &gt; <span class="number">-1</span> &amp;&amp; !isIE; <span class="comment">//判断是否IE的Edge浏览器  </span></div><div class="line">    <span class="keyword">var</span> isFF = userAgent.indexOf(<span class="string">"Firefox"</span>) &gt; <span class="number">-1</span>; <span class="comment">//判断是否Firefox浏览器</span></div><div class="line">    <span class="keyword">var</span> isSafari = userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Chrome"</span>) == <span class="number">-1</span>; <span class="comment">//判断是否Safari浏览器</span></div><div class="line">    <span class="keyword">var</span> isChrome = userAgent.indexOf(<span class="string">"Chrome"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span>; <span class="comment">//判断Chrome浏览器</span></div><div class="line"></div><div class="line">    <span class="keyword">if</span> (isIE) &#123;</div><div class="line">        <span class="keyword">var</span> reIE = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"MSIE (\\d+\\.\\d+);"</span>);</div><div class="line">        reIE.test(userAgent);</div><div class="line">        <span class="keyword">var</span> fIEVersion = <span class="built_in">parseFloat</span>(<span class="built_in">RegExp</span>[<span class="string">"$1"</span>]);</div><div class="line">        <span class="keyword">if</span>(fIEVersion == <span class="number">7</span>) <span class="keyword">return</span> <span class="string">"IE7"</span></div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fIEVersion == <span class="number">8</span>) <span class="keyword">return</span> <span class="string">"IE8"</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fIEVersion == <span class="number">9</span>) <span class="keyword">return</span> <span class="string">"IE9"</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fIEVersion == <span class="number">10</span>) <span class="keyword">return</span> <span class="string">"IE10"</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">"IE7以下"</span><span class="comment">//IE版本过低</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (isIE11) <span class="keyword">return</span> <span class="string">'IE11'</span>;</div><div class="line">    <span class="keyword">if</span> (isEdge) <span class="keyword">return</span> <span class="string">"Edge"</span>;</div><div class="line">    <span class="keyword">if</span> (isFF) <span class="keyword">return</span> <span class="string">"FF"</span>;</div><div class="line">    <span class="keyword">if</span> (isOpera) <span class="keyword">return</span> <span class="string">"Opera"</span>;</div><div class="line">    <span class="keyword">if</span> (isSafari) <span class="keyword">return</span> <span class="string">"Safari"</span>;</div><div class="line">    <span class="keyword">if</span> (isChrome) <span class="keyword">return</span> <span class="string">"Chrome"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">checkStr (str, type) &#123;</div><div class="line">    <span class="keyword">switch</span> (type) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">'phone'</span>:   <span class="comment">//手机号码</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^1[3|4|5|6|7|8|9][0-9]&#123;9&#125;$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'tel'</span>:     <span class="comment">//座机</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^(0\d&#123;2,3&#125;-\d&#123;7,8&#125;)(-\d&#123;1,4&#125;)?$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'card'</span>:    <span class="comment">//身份证</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'pwd'</span>:     <span class="comment">//密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[a-zA-Z]\w&#123;5,17&#125;$/</span>.test(str)</div><div class="line">        <span class="keyword">case</span> <span class="string">'postal'</span>:  <span class="comment">//邮政编码</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/[1-9]\d&#123;5&#125;(?!\d)/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'QQ'</span>:      <span class="comment">//QQ号</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[1-9][0-9]&#123;4,9&#125;$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'email'</span>:   <span class="comment">//邮箱</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'money'</span>:   <span class="comment">//金额(小数点2位)</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^\d*(?:\.\d&#123;0,2&#125;)?$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'URL'</span>:     <span class="comment">//网址</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/</span>.test(str)</div><div class="line">        <span class="keyword">case</span> <span class="string">'IP'</span>:      <span class="comment">//IP</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'date'</span>:    <span class="comment">//日期时间</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;) (\d&#123;2&#125;)(?:\:\d&#123;2&#125;|:(\d&#123;2&#125;):(\d&#123;2&#125;))$/</span>.test(str) || <span class="regexp">/^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;)$/</span>.test(str)</div><div class="line">        <span class="keyword">case</span> <span class="string">'number'</span>:  <span class="comment">//数字</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[0-9]$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'english'</span>: <span class="comment">//英文</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[a-zA-Z]+$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'chinese'</span>: <span class="comment">//中文</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[\u4E00-\u9FA5]+$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'lower'</span>:   <span class="comment">//小写</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[a-z]+$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'upper'</span>:   <span class="comment">//大写</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/^[A-Z]+$/</span>.test(str);</div><div class="line">        <span class="keyword">case</span> <span class="string">'HTML'</span>:    <span class="comment">//HTML标记</span></div><div class="line">            <span class="keyword">return</span> <span class="regexp">/&lt;("[^"]*"|'[^']*'|[^'"&gt;])*&gt;/</span>.test(str);</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 严格的身份证校验</span></div><div class="line">    isCardID(sId) &#123;</div><div class="line">        <span class="keyword">if</span> (!<span class="regexp">/(^\d&#123;15&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/</span>.test(sId)) &#123;</div><div class="line">            alert(<span class="string">'你输入的身份证长度或格式错误'</span>)</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">        <span class="comment">//身份证城市</span></div><div class="line">        <span class="keyword">var</span> aCity=&#123;<span class="number">11</span>:<span class="string">"北京"</span>,<span class="number">12</span>:<span class="string">"天津"</span>,<span class="number">13</span>:<span class="string">"河北"</span>,<span class="number">14</span>:<span class="string">"山西"</span>,<span class="number">15</span>:<span class="string">"内蒙古"</span>,<span class="number">21</span>:<span class="string">"辽宁"</span>,<span class="number">22</span>:<span class="string">"吉林"</span>,<span class="number">23</span>:<span class="string">"黑龙江"</span>,<span class="number">31</span>:<span class="string">"上海"</span>,<span class="number">32</span>:<span class="string">"江苏"</span>,<span class="number">33</span>:<span class="string">"浙江"</span>,<span class="number">34</span>:<span class="string">"安徽"</span>,<span class="number">35</span>:<span class="string">"福建"</span>,<span class="number">36</span>:<span class="string">"江西"</span>,<span class="number">37</span>:<span class="string">"山东"</span>,<span class="number">41</span>:<span class="string">"河南"</span>,<span class="number">42</span>:<span class="string">"湖北"</span>,<span class="number">43</span>:<span class="string">"湖南"</span>,<span class="number">44</span>:<span class="string">"广东"</span>,<span class="number">45</span>:<span class="string">"广西"</span>,<span class="number">46</span>:<span class="string">"海南"</span>,<span class="number">50</span>:<span class="string">"重庆"</span>,<span class="number">51</span>:<span class="string">"四川"</span>,<span class="number">52</span>:<span class="string">"贵州"</span>,<span class="number">53</span>:<span class="string">"云南"</span>,<span class="number">54</span>:<span class="string">"西藏"</span>,<span class="number">61</span>:<span class="string">"陕西"</span>,<span class="number">62</span>:<span class="string">"甘肃"</span>,<span class="number">63</span>:<span class="string">"青海"</span>,<span class="number">64</span>:<span class="string">"宁夏"</span>,<span class="number">65</span>:<span class="string">"新疆"</span>,<span class="number">71</span>:<span class="string">"台湾"</span>,<span class="number">81</span>:<span class="string">"香港"</span>,<span class="number">82</span>:<span class="string">"澳门"</span>,<span class="number">91</span>:<span class="string">"国外"</span>&#125;;</div><div class="line">        <span class="keyword">if</span>(!aCity[<span class="built_in">parseInt</span>(sId.substr(<span class="number">0</span>,<span class="number">2</span>))]) &#123;</div><div class="line">            alert(<span class="string">'你的身份证地区非法'</span>)</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// 出生日期验证</span></div><div class="line">        <span class="keyword">var</span> sBirthday=(sId.substr(<span class="number">6</span>,<span class="number">4</span>)+<span class="string">"-"</span>+<span class="built_in">Number</span>(sId.substr(<span class="number">10</span>,<span class="number">2</span>))+<span class="string">"-"</span>+<span class="built_in">Number</span>(sId.substr(<span class="number">12</span>,<span class="number">2</span>))).replace(<span class="regexp">/-/g</span>,<span class="string">"/"</span>),</div><div class="line">            d = <span class="keyword">new</span> <span class="built_in">Date</span>(sBirthday)</div><div class="line">        <span class="keyword">if</span>(sBirthday != (d.getFullYear()+<span class="string">"/"</span>+ (d.getMonth()+<span class="number">1</span>) + <span class="string">"/"</span> + d.getDate())) &#123;</div><div class="line">            alert(<span class="string">'身份证上的出生日期非法'</span>)</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// 身份证号码校验</span></div><div class="line">        <span class="keyword">var</span> sum = <span class="number">0</span>,</div><div class="line">            weights =  [<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>],</div><div class="line">            codes = <span class="string">"10X98765432"</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; sId.length - <span class="number">1</span>; i++) &#123;</div><div class="line">            sum += sId[i] * weights[i];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> last = codes[sum % <span class="number">11</span>]; <span class="comment">//计算出来的最后一位身份证号码</span></div><div class="line">        <span class="keyword">if</span> (sId[sId.length<span class="number">-1</span>] != last) &#123;</div><div class="line">            alert(<span class="string">'你输入的身份证号非法'</span>)</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-Date"><a href="#2-Date" class="headerlink" title="2. Date"></a>2. Date</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 格式化时间</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @param  &#123;time&#125; 时间</span></div><div class="line"><span class="comment"> * @param  &#123;cFormat&#125; 格式</span></div><div class="line"><span class="comment"> * @return &#123;String&#125; 字符串</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @example formatTime('2018-1-29', '&#123;y&#125;/&#123;m&#125;/&#123;d&#125; &#123;h&#125;:&#123;i&#125;:&#123;s&#125;') // -&gt; 2018/01/29 00:00:00</span></div><div class="line"><span class="comment"> */</span></div><div class="line">formatTime(time, cFormat) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">null</span></div><div class="line">    <span class="keyword">if</span> ((time + <span class="string">''</span>).length === <span class="number">10</span>) &#123;</div><div class="line">        time = +time * <span class="number">1000</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> format = cFormat || <span class="string">'&#123;y&#125;-&#123;m&#125;-&#123;d&#125; &#123;h&#125;:&#123;i&#125;:&#123;s&#125;'</span>, date</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> time === <span class="string">'object'</span>) &#123;</div><div class="line">        date = time</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        date = <span class="keyword">new</span> <span class="built_in">Date</span>(time)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> formatObj = &#123;</div><div class="line">        y: date.getFullYear(),</div><div class="line">        m: date.getMonth() + <span class="number">1</span>,</div><div class="line">        d: date.getDate(),</div><div class="line">        h: date.getHours(),</div><div class="line">        i: date.getMinutes(),</div><div class="line">        s: date.getSeconds(),</div><div class="line">        a: date.getDay()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> time_str = format.replace(<span class="regexp">/&#123;(y|m|d|h|i|s|a)+&#125;/g</span>, (result, key) =&gt; &#123;</div><div class="line">        <span class="keyword">var</span> value = formatObj[key]</div><div class="line">        <span class="keyword">if</span> (key === <span class="string">'a'</span>) <span class="keyword">return</span> [<span class="string">'一'</span>, <span class="string">'二'</span>, <span class="string">'三'</span>, <span class="string">'四'</span>, <span class="string">'五'</span>, <span class="string">'六'</span>, <span class="string">'日'</span>][value - <span class="number">1</span>]</div><div class="line">        <span class="keyword">if</span> (result.length &gt; <span class="number">0</span> &amp;&amp; value &lt; <span class="number">10</span>) &#123;</div><div class="line">            value = <span class="string">'0'</span> + value</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> value || <span class="number">0</span></div><div class="line">    &#125;)</div><div class="line">    <span class="keyword">return</span> time_str</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 返回指定长度的月份集合</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @param  &#123;time&#125; 时间</span></div><div class="line"><span class="comment"> * @param  &#123;len&#125; 长度</span></div><div class="line"><span class="comment"> * @param  &#123;direction&#125; 方向：  1: 前几个月;  2: 后几个月;  3:前后几个月  默认 3</span></div><div class="line"><span class="comment"> * @return &#123;Array&#125; 数组</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @example   getMonths('2018-1-29', 6, 1)  // -&gt;  ["2018-1", "2017-12", "2017-11", "2017-10", "2017-9", "2017-8", "2017-7"]</span></div><div class="line"><span class="comment"> */</span></div><div class="line">getMonths(time, len, direction) &#123;</div><div class="line">    <span class="keyword">var</span> mm = <span class="keyword">new</span> <span class="built_in">Date</span>(time).getMonth(),</div><div class="line">        yy = <span class="keyword">new</span> <span class="built_in">Date</span>(time).getFullYear(),</div><div class="line">        direction = <span class="built_in">isNaN</span>(direction) ? <span class="number">3</span> : direction,</div><div class="line">        index = mm;</div><div class="line">    <span class="keyword">var</span> cutMonth = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> ( index &lt;= len &amp;&amp; index &gt;= -len) &#123;</div><div class="line">            <span class="keyword">return</span> direction === <span class="number">1</span> ? formatPre(index).concat(cutMonth(++index)):</div><div class="line">                direction === <span class="number">2</span> ? formatNext(index).concat(cutMonth(++index)):formatCurr(index).concat(cutMonth(++index))</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> []</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> formatNext = <span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> y = <span class="built_in">Math</span>.floor(i/<span class="number">12</span>),</div><div class="line">            m = i%<span class="number">12</span></div><div class="line">        <span class="keyword">return</span> [yy+y + <span class="string">'-'</span> + (m+<span class="number">1</span>)]</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> formatPre = <span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> y = <span class="built_in">Math</span>.ceil(i/<span class="number">12</span>),</div><div class="line">            m = i%<span class="number">12</span></div><div class="line">        m = m===<span class="number">0</span> ? <span class="number">12</span> : m</div><div class="line">        <span class="keyword">return</span> [yy-y + <span class="string">'-'</span> + (<span class="number">13</span> - m)]</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> formatCurr = <span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> y = <span class="built_in">Math</span>.floor(i/<span class="number">12</span>),</div><div class="line">            yNext = <span class="built_in">Math</span>.ceil(i/<span class="number">12</span>),</div><div class="line">            m = i%<span class="number">12</span>,</div><div class="line">            mNext = m===<span class="number">0</span> ? <span class="number">12</span> : m</div><div class="line">        <span class="keyword">return</span> [yy-yNext + <span class="string">'-'</span> + (<span class="number">13</span> - mNext),yy+y + <span class="string">'-'</span> + (m+<span class="number">1</span>)]</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 数组去重</span></div><div class="line">    <span class="keyword">var</span> unique = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> ( <span class="built_in">Array</span>.hasOwnProperty(<span class="string">'from'</span>) ) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">var</span> n = &#123;&#125;,r=[];</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</div><div class="line">                <span class="keyword">if</span> (!n[arr[i]])&#123;</div><div class="line">                    n[arr[i]] = <span class="literal">true</span>;</div><div class="line">                    r.push(arr[i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> r;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> direction !== <span class="number">3</span> ? cutMonth(index) : unique(cutMonth(index).sort(<span class="function"><span class="keyword">function</span>(<span class="params">t1, t2</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(t1).getTime() - <span class="keyword">new</span> <span class="built_in">Date</span>(t2).getTime()</div><div class="line">    &#125;))</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 返回指定长度的天数集合</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @param  &#123;time&#125; 时间</span></div><div class="line"><span class="comment"> * @param  &#123;len&#125; 长度</span></div><div class="line"><span class="comment"> * @param  &#123;direction&#125; 方向： 1: 前几天;  2: 后几天;  3:前后几天  默认 3</span></div><div class="line"><span class="comment"> * @return &#123;Array&#125; 数组</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @example date.getDays('2018-1-29', 6) // -&gt; ["2018-1-26", "2018-1-27", "2018-1-28", "2018-1-29", "2018-1-30", "2018-1-31", "2018-2-1"]</span></div><div class="line"><span class="comment"> */</span></div><div class="line">getDays(time, len, diretion) &#123;</div><div class="line">    <span class="keyword">var</span> tt = <span class="keyword">new</span> <span class="built_in">Date</span>(time)</div><div class="line">    <span class="keyword">var</span> getDay = <span class="function"><span class="keyword">function</span>(<span class="params">day</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> t = <span class="keyword">new</span> <span class="built_in">Date</span>(time)</div><div class="line">        t.setDate(t.getDate() + day)</div><div class="line">        <span class="keyword">var</span> m = t.getMonth()+<span class="number">1</span></div><div class="line">        <span class="keyword">return</span> t.getFullYear()+<span class="string">'-'</span>+m+<span class="string">'-'</span>+t.getDate()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> arr = []</div><div class="line">    <span class="keyword">if</span> (diretion === <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</div><div class="line">            arr.unshift(getDay(-i))</div><div class="line">        &#125;</div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(diretion === <span class="number">2</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</div><div class="line">            arr.push(getDay(i))</div><div class="line">        &#125;</div><div class="line">    &#125;<span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</div><div class="line">            arr.unshift(getDay(-i))</div><div class="line">        &#125;</div><div class="line">        arr.push(tt.getFullYear()+<span class="string">'-'</span>+(tt.getMonth()+<span class="number">1</span>)+<span class="string">'-'</span>+tt.getDate())</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</div><div class="line">            arr.push(getDay(i))</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> diretion === <span class="number">1</span> ? arr.concat([tt.getFullYear()+<span class="string">'-'</span>+(tt.getMonth()+<span class="number">1</span>)+<span class="string">'-'</span>+tt.getDate()]) :</div><div class="line">        diretion === <span class="number">2</span> ? [tt.getFullYear()+<span class="string">'-'</span>+(tt.getMonth()+<span class="number">1</span>)+<span class="string">'-'</span>+tt.getDate()].concat(arr) : arr</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @param  &#123;s&#125; 秒数</span></div><div class="line"><span class="comment"> * @return &#123;String&#125; 字符串</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @example formatHMS(3610) // -&gt; 1h0m10s</span></div><div class="line"><span class="comment"> */</span></div><div class="line">formatHMS (s) &#123;</div><div class="line">    <span class="keyword">var</span> str = <span class="string">''</span></div><div class="line">    <span class="keyword">if</span> (s &gt; <span class="number">3600</span>) &#123;</div><div class="line">        str = <span class="built_in">Math</span>.floor(s/<span class="number">3600</span>)+<span class="string">'h'</span>+<span class="built_in">Math</span>.floor(s%<span class="number">3600</span>/<span class="number">60</span>)+<span class="string">'m'</span>+s%<span class="number">60</span>+<span class="string">'s'</span></div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s &gt; <span class="number">60</span>) &#123;</div><div class="line">        str = <span class="built_in">Math</span>.floor(s/<span class="number">60</span>)+<span class="string">'m'</span>+s%<span class="number">60</span>+<span class="string">'s'</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        str = s%<span class="number">60</span>+<span class="string">'s'</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> str</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取某月有多少天*/</span></div><div class="line">getMonthOfDay (time) &#123;</div><div class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(time)</div><div class="line">    <span class="keyword">var</span> year = date.getFullYear()</div><div class="line">    <span class="keyword">var</span> mouth = date.getMonth() + <span class="number">1</span></div><div class="line">    <span class="keyword">var</span> days</div><div class="line"></div><div class="line">    <span class="comment">//当月份为二月时，根据闰年还是非闰年判断天数</span></div><div class="line">    <span class="keyword">if</span> (mouth == <span class="number">2</span>) &#123;</div><div class="line">        days = (year%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; year%<span class="number">100</span>==<span class="number">0</span> &amp;&amp; year%<span class="number">400</span>==<span class="number">0</span>) || (year%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; year%<span class="number">100</span>!=<span class="number">0</span>) ? <span class="number">28</span> : <span class="number">29</span></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mouth == <span class="number">1</span> || mouth == <span class="number">3</span> || mouth == <span class="number">5</span> || mouth == <span class="number">7</span> || mouth == <span class="number">8</span> || mouth == <span class="number">10</span> || mouth == <span class="number">12</span>) &#123;</div><div class="line">        <span class="comment">//月份为：1,3,5,7,8,10,12 时，为大月.则天数为31；</span></div><div class="line">        days = <span class="number">31</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">//其他月份，天数为：30.</span></div><div class="line">        days = <span class="number">30</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> days</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取某年有多少天*/</span></div><div class="line">getYearOfDay (time) &#123;</div><div class="line">    <span class="keyword">var</span> firstDayYear = <span class="keyword">this</span>.getFirstDayOfYear(time);</div><div class="line">    <span class="keyword">var</span> lastDayYear = <span class="keyword">this</span>.getLastDayOfYear(time);</div><div class="line">    <span class="keyword">var</span> numSecond = (<span class="keyword">new</span> <span class="built_in">Date</span>(lastDayYear).getTime() - <span class="keyword">new</span> <span class="built_in">Date</span>(firstDayYear).getTime())/<span class="number">1000</span>;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(numSecond/(<span class="number">24</span>*<span class="number">3600</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取某年的第一天*/</span></div><div class="line">getFirstDayOfYear (time) &#123;</div><div class="line">    <span class="keyword">var</span> year = <span class="keyword">new</span> <span class="built_in">Date</span>(time).getFullYear();</div><div class="line">    <span class="keyword">return</span> year + <span class="string">"-01-01 00:00:00"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取某年最后一天*/</span></div><div class="line">getLastDayOfYear (time) &#123;</div><div class="line">    <span class="keyword">var</span> year = <span class="keyword">new</span> <span class="built_in">Date</span>(time).getFullYear();</div><div class="line">    <span class="keyword">var</span> dateString = year + <span class="string">"-12-01 00:00:00"</span>;  </div><div class="line">    <span class="keyword">var</span> endDay = <span class="keyword">this</span>.getMonthOfDay(dateString);</div><div class="line">    <span class="keyword">return</span> year + <span class="string">"-12-"</span> + endDay + <span class="string">" 23:59:59"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取某个日期是当年中的第几天*/</span></div><div class="line">getDayOfYear (time) &#123;</div><div class="line">    <span class="keyword">var</span> firstDayYear = <span class="keyword">this</span>.getFirstDayOfYear(time);</div><div class="line">    <span class="keyword">var</span> numSecond = (<span class="keyword">new</span> <span class="built_in">Date</span>(time).getTime() - <span class="keyword">new</span> <span class="built_in">Date</span>(firstDayYear).getTime())/<span class="number">1000</span>;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(numSecond/(<span class="number">24</span>*<span class="number">3600</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取某个日期在这一年的第几周*/</span></div><div class="line">getDayOfYearWeek (time) &#123;</div><div class="line">    <span class="keyword">var</span> numdays = <span class="keyword">this</span>.getDayOfYear(time);</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(numdays / <span class="number">7</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br> 注：也可以使用封装好的时间工具库，例如 <a href="http://momentjs.cn/" target="_blank" rel="external">Moment.js</a>、<a href="https://github.com/iamkun/dayjs" target="_blank" rel="external">Day.js</a>。</p>
<h3 id="3-Array"><a href="#3-Array" class="headerlink" title="3. Array"></a>3. Array</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*判断一个元素是否在数组中*/</span></div><div class="line">contains (arr, val) &#123;</div><div class="line">    <span class="keyword">return</span> arr.indexOf(val) != <span class="number">-1</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @param  &#123;arr&#125; 数组</span></div><div class="line"><span class="comment"> * @param  &#123;fn&#125; 回调函数</span></div><div class="line"><span class="comment"> * @return &#123;undefined&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">each (arr, fn) &#123;</div><div class="line">    fn = fn || <span class="built_in">Function</span>;</div><div class="line">    <span class="keyword">var</span> a = [];</div><div class="line">    <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</div><div class="line">        <span class="keyword">var</span> res = fn.apply(arr, [arr[i], i].concat(args));</div><div class="line">        <span class="keyword">if</span>(res != <span class="literal">null</span>) a.push(res);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @param  &#123;arr&#125; 数组</span></div><div class="line"><span class="comment"> * @param  &#123;fn&#125; 回调函数</span></div><div class="line"><span class="comment"> * @param  &#123;thisObj&#125; this指向</span></div><div class="line"><span class="comment"> * @return &#123;Array&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">map (arr, fn, thisObj) &#123;</div><div class="line">    <span class="keyword">var</span> scope = thisObj || <span class="built_in">window</span>;</div><div class="line">    <span class="keyword">var</span> a = [];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, j = arr.length; i &lt; j; ++i) &#123;</div><div class="line">        <span class="keyword">var</span> res = fn.call(scope, arr[i], i, <span class="keyword">this</span>);</div><div class="line">        <span class="keyword">if</span>(res != <span class="literal">null</span>) a.push(res);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> a;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @param  &#123;arr&#125; 数组</span></div><div class="line"><span class="comment"> * @param  &#123;type&#125; 1：从小到大   2：从大到小   3：随机</span></div><div class="line"><span class="comment"> * @return &#123;Array&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">sort (arr, type = <span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">return</span> arr.sort( <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">switch</span>(type) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                <span class="keyword">return</span> a - b;</div><div class="line">            <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">                <span class="keyword">return</span> b - a;</div><div class="line">            <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">                <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>;</div><div class="line">            <span class="keyword">default</span>:</div><div class="line">                <span class="keyword">return</span> arr;</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*去重*/</span></div><div class="line">unique (arr) &#123;</div><div class="line">    <span class="keyword">if</span> ( <span class="built_in">Array</span>.hasOwnProperty(<span class="string">'from'</span>) ) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">var</span> n = &#123;&#125;,r=[];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</div><div class="line">            <span class="keyword">if</span> (!n[arr[i]])&#123;</div><div class="line">                n[arr[i]] = <span class="literal">true</span>;</div><div class="line">                r.push(arr[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> r;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 注：上面 else 里面的排重并不能区分 2 和 '2'，但能减少用indexOf带来的性能,暂时没找到替代的方法。。。</span></div><div class="line"></div><div class="line">    <span class="comment">// 正确去重</span></div><div class="line">    <span class="keyword">if</span> ( <span class="built_in">Array</span>.hasOwnProperty(<span class="string">'from'</span>) ) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">var</span> r = [], NaNBol = <span class="literal">true</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; arr.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (arr[i] !== arr[i]) &#123;</div><div class="line">                <span class="keyword">if</span> (NaNBol &amp;&amp; r.indexOf(arr[i]) === <span class="number">-1</span>) &#123;</div><div class="line">                    r.push(arr[i])</div><div class="line">                    NaNBol = <span class="literal">false</span></div><div class="line">                &#125;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">if</span>(r.indexOf(arr[i]) === <span class="number">-1</span>) r.push(arr[i])</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> r</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/*求两个集合的并集*/</span></div><div class="line">union (a, b) &#123;</div><div class="line">    <span class="keyword">var</span> newArr = a.concat(b);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.unique(newArr);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*求两个集合的交集*/</span></div><div class="line">intersect (a, b) &#123;</div><div class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>;</div><div class="line">    a = <span class="keyword">this</span>.unique(a);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.map(a, <span class="function"><span class="keyword">function</span>(<span class="params">o</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> _this.contains(b, o) ? o : <span class="literal">null</span>;</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*删除其中一个元素*/</span></div><div class="line">remove (arr, ele) &#123;</div><div class="line">    <span class="keyword">var</span> index = arr.indexOf(ele);</div><div class="line">    <span class="keyword">if</span>(index &gt; <span class="number">-1</span>) &#123;</div><div class="line">        arr.splice(index, <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*将类数组转换为数组的方法*/</span></div><div class="line">formArray (ary) &#123;</div><div class="line">    <span class="keyword">var</span> arr = [];</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(ary)) &#123;</div><div class="line">        arr = ary;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        arr = <span class="built_in">Array</span>.prototype.slice.call(ary);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*最大值*/</span></div><div class="line">max (arr) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, arr);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*最小值*/</span></div><div class="line">min (arr) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, arr);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*求和*/</span></div><div class="line">sum (arr) &#123;</div><div class="line">    <span class="keyword">return</span> arr.reduce( <span class="function">(<span class="params">pre, cur</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> pre + cur</div><div class="line">    &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*平均值*/</span></div><div class="line">average (arr) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.sum(arr)/arr.length</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-String-字符串操作"><a href="#4-String-字符串操作" class="headerlink" title="4. String 字符串操作"></a>4. String 字符串操作</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 去除空格</span></div><div class="line"><span class="comment"> * @param  &#123;str&#125;</span></div><div class="line"><span class="comment"> * @param  &#123;type&#125;</span></div><div class="line"><span class="comment"> *       type:  1-所有空格  2-前后空格  3-前空格 4-后空格</span></div><div class="line"><span class="comment"> * @return &#123;String&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">trim (str, type) &#123;</div><div class="line">    type = type || <span class="number">1</span></div><div class="line">    <span class="keyword">switch</span> (type) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> str.replace(<span class="regexp">/\s+/g</span>, <span class="string">""</span>);</div><div class="line">        <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> str.replace(<span class="regexp">/(^\s*)|(\s*$)/g</span>, <span class="string">""</span>);</div><div class="line">        <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">            <span class="keyword">return</span> str.replace(<span class="regexp">/(^\s*)/g</span>, <span class="string">""</span>);</div><div class="line">        <span class="keyword">case</span> <span class="number">4</span>:</div><div class="line">            <span class="keyword">return</span> str.replace(<span class="regexp">/(\s*$)/g</span>, <span class="string">""</span>);</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> str;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @param  &#123;str&#125;</span></div><div class="line"><span class="comment"> * @param  &#123;type&#125;</span></div><div class="line"><span class="comment"> *       type:  1:首字母大写  2：首页母小写  3：大小写转换  4：全部大写  5：全部小写</span></div><div class="line"><span class="comment"> * @return &#123;String&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">changeCase (str, type) &#123;</div><div class="line">    type = type || <span class="number">4</span></div><div class="line">    <span class="keyword">switch</span> (type) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> str.replace(<span class="regexp">/\b\w+\b/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">word</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> word.substring(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + word.substring(<span class="number">1</span>).toLowerCase();</div><div class="line"></div><div class="line">            &#125;);</div><div class="line">        <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> str.replace(<span class="regexp">/\b\w+\b/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">word</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> word.substring(<span class="number">0</span>, <span class="number">1</span>).toLowerCase() + word.substring(<span class="number">1</span>).toUpperCase();</div><div class="line">            &#125;);</div><div class="line">        <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">            <span class="keyword">return</span> str.split(<span class="string">''</span>).map( <span class="function"><span class="keyword">function</span>(<span class="params">word</span>)</span>&#123;</div><div class="line">                <span class="keyword">if</span> (<span class="regexp">/[a-z]/</span>.test(word)) &#123;</div><div class="line">                    <span class="keyword">return</span> word.toUpperCase();</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    <span class="keyword">return</span> word.toLowerCase()</div><div class="line">                &#125;</div><div class="line">            &#125;).join(<span class="string">''</span>)</div><div class="line">        <span class="keyword">case</span> <span class="number">4</span>:</div><div class="line">            <span class="keyword">return</span> str.toUpperCase();</div><div class="line">        <span class="keyword">case</span> <span class="number">5</span>:</div><div class="line">            <span class="keyword">return</span> str.toLowerCase();</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> str;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    检测密码强度</span></div><div class="line"><span class="comment">*/</span></div><div class="line">checkPwd (str) &#123;</div><div class="line">    <span class="keyword">var</span> Lv = <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (str.length &lt; <span class="number">6</span>) &#123;</div><div class="line">        <span class="keyword">return</span> Lv</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (<span class="regexp">/[0-9]/</span>.test(str)) &#123;</div><div class="line">        Lv++</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (<span class="regexp">/[a-z]/</span>.test(str)) &#123;</div><div class="line">        Lv++</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (<span class="regexp">/[A-Z]/</span>.test(str)) &#123;</div><div class="line">        Lv++</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (<span class="regexp">/[\.|-|_]/</span>.test(str)) &#123;</div><div class="line">        Lv++</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> Lv;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*过滤html代码(把&lt;&gt;转换)*/</span></div><div class="line">filterTag (str) &#123;</div><div class="line">    str = str.replace(<span class="regexp">/&amp;/ig</span>, <span class="string">"&amp;amp;"</span>);</div><div class="line">    str = str.replace(<span class="regexp">/&lt;/ig</span>, <span class="string">"&amp;lt;"</span>);</div><div class="line">    str = str.replace(<span class="regexp">/&gt;/ig</span>, <span class="string">"&amp;gt;"</span>);</div><div class="line">    str = str.replace(<span class="string">" "</span>, <span class="string">"&amp;nbsp;"</span>);</div><div class="line">    <span class="keyword">return</span> str;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-Number"><a href="#5-Number" class="headerlink" title="5. Number"></a>5. Number</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*随机数范围*/</span></div><div class="line">random (min, max) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">2</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.floor(min + <span class="built_in">Math</span>.random() * ( (max+<span class="number">1</span>) - min ))</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*将阿拉伯数字翻译成中文的大写数字*/</span></div><div class="line">numberToChinese (num) &#123;</div><div class="line">    <span class="keyword">var</span> AA = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"零"</span>, <span class="string">"一"</span>, <span class="string">"二"</span>, <span class="string">"三"</span>, <span class="string">"四"</span>, <span class="string">"五"</span>, <span class="string">"六"</span>, <span class="string">"七"</span>, <span class="string">"八"</span>, <span class="string">"九"</span>, <span class="string">"十"</span>);</div><div class="line">    <span class="keyword">var</span> BB = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">""</span>, <span class="string">"十"</span>, <span class="string">"百"</span>, <span class="string">"仟"</span>, <span class="string">"萬"</span>, <span class="string">"億"</span>, <span class="string">"点"</span>, <span class="string">""</span>);</div><div class="line">    <span class="keyword">var</span> a = (<span class="string">""</span> + num).replace(<span class="regexp">/(^0*)/g</span>, <span class="string">""</span>).split(<span class="string">"."</span>),</div><div class="line">        k = <span class="number">0</span>,</div><div class="line">        re = <span class="string">""</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = a[<span class="number">0</span>].length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">        <span class="keyword">switch</span>(k) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">                re = BB[<span class="number">7</span>] + re;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="number">4</span>:</div><div class="line">                <span class="keyword">if</span>(!<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"0&#123;4&#125;//d&#123;"</span> + (a[<span class="number">0</span>].length - i - <span class="number">1</span>) + <span class="string">"&#125;$"</span>)</div><div class="line">                    .test(a[<span class="number">0</span>]))</div><div class="line">                    re = BB[<span class="number">4</span>] + re;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="number">8</span>:</div><div class="line">                re = BB[<span class="number">5</span>] + re;</div><div class="line">                BB[<span class="number">7</span>] = BB[<span class="number">5</span>];</div><div class="line">                k = <span class="number">0</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(k % <span class="number">4</span> == <span class="number">2</span> &amp;&amp; a[<span class="number">0</span>].charAt(i + <span class="number">2</span>) != <span class="number">0</span> &amp;&amp; a[<span class="number">0</span>].charAt(i + <span class="number">1</span>) == <span class="number">0</span>)</div><div class="line">            re = AA[<span class="number">0</span>] + re;</div><div class="line">        <span class="keyword">if</span>(a[<span class="number">0</span>].charAt(i) != <span class="number">0</span>)</div><div class="line">            re = AA[a[<span class="number">0</span>].charAt(i)] + BB[k % <span class="number">4</span>] + re;</div><div class="line">        k++;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(a.length &gt; <span class="number">1</span>) <span class="comment">// 加上小数部分(如果有小数部分)</span></div><div class="line">    &#123;</div><div class="line">        re += BB[<span class="number">6</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a[<span class="number">1</span>].length; i++)</div><div class="line">            re += AA[a[<span class="number">1</span>].charAt(i)];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(re == <span class="string">'一十'</span>)</div><div class="line">        re = <span class="string">"十"</span>;</div><div class="line">    <span class="keyword">if</span>(re.match(<span class="regexp">/^一/</span>) &amp;&amp; re.length == <span class="number">3</span>)</div><div class="line">        re = re.replace(<span class="string">"一"</span>, <span class="string">""</span>);</div><div class="line">    <span class="keyword">return</span> re;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*将数字转换为大写金额*/</span></div><div class="line">changeToChinese (Num) &#123;</div><div class="line">        <span class="comment">//判断如果传递进来的不是字符的话转换为字符</span></div><div class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> Num == <span class="string">"number"</span>) &#123;</div><div class="line">            Num = <span class="keyword">new</span> <span class="built_in">String</span>(Num);</div><div class="line">        &#125;;</div><div class="line">        Num = Num.replace(<span class="regexp">/,/g</span>, <span class="string">""</span>) <span class="comment">//替换tomoney()中的“,”</span></div><div class="line">        Num = Num.replace(<span class="regexp">/ /g</span>, <span class="string">""</span>) <span class="comment">//替换tomoney()中的空格</span></div><div class="line">        Num = Num.replace(<span class="regexp">/￥/g</span>, <span class="string">""</span>) <span class="comment">//替换掉可能出现的￥字符</span></div><div class="line">        <span class="keyword">if</span>(<span class="built_in">isNaN</span>(Num)) &#123; <span class="comment">//验证输入的字符是否为数字</span></div><div class="line">            <span class="comment">//alert("请检查小写金额是否正确");</span></div><div class="line">            <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">        &#125;;</div><div class="line">        <span class="comment">//字符处理完毕后开始转换，采用前后两部分分别转换</span></div><div class="line">        <span class="keyword">var</span> part = <span class="built_in">String</span>(Num).split(<span class="string">"."</span>);</div><div class="line">        <span class="keyword">var</span> newchar = <span class="string">""</span>;</div><div class="line">        <span class="comment">//小数点前进行转化</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = part[<span class="number">0</span>].length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            <span class="keyword">if</span>(part[<span class="number">0</span>].length &gt; <span class="number">10</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">                <span class="comment">//若数量超过拾亿单位，提示</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">var</span> tmpnewchar = <span class="string">""</span></div><div class="line">            <span class="keyword">var</span> perchar = part[<span class="number">0</span>].charAt(i);</div><div class="line">            <span class="keyword">switch</span>(perchar) &#123;</div><div class="line">                <span class="keyword">case</span> <span class="string">"0"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"零"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"1"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"壹"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"2"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"贰"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"3"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"叁"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"4"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"肆"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"5"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"伍"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"6"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"陆"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"7"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"柒"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"8"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"捌"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"9"</span>:</div><div class="line">                    tmpnewchar = <span class="string">"玖"</span> + tmpnewchar;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">switch</span>(part[<span class="number">0</span>].length - i - <span class="number">1</span>) &#123;</div><div class="line">                <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">                    tmpnewchar = tmpnewchar + <span class="string">"元"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                    <span class="keyword">if</span>(perchar != <span class="number">0</span>) tmpnewchar = tmpnewchar + <span class="string">"拾"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">                    <span class="keyword">if</span>(perchar != <span class="number">0</span>) tmpnewchar = tmpnewchar + <span class="string">"佰"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">                    <span class="keyword">if</span>(perchar != <span class="number">0</span>) tmpnewchar = tmpnewchar + <span class="string">"仟"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">4</span>:</div><div class="line">                    tmpnewchar = tmpnewchar + <span class="string">"万"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">5</span>:</div><div class="line">                    <span class="keyword">if</span>(perchar != <span class="number">0</span>) tmpnewchar = tmpnewchar + <span class="string">"拾"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">6</span>:</div><div class="line">                    <span class="keyword">if</span>(perchar != <span class="number">0</span>) tmpnewchar = tmpnewchar + <span class="string">"佰"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">7</span>:</div><div class="line">                    <span class="keyword">if</span>(perchar != <span class="number">0</span>) tmpnewchar = tmpnewchar + <span class="string">"仟"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">8</span>:</div><div class="line">                    tmpnewchar = tmpnewchar + <span class="string">"亿"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">9</span>:</div><div class="line">                    tmpnewchar = tmpnewchar + <span class="string">"拾"</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">var</span> newchar = tmpnewchar + newchar;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//小数点之后进行转化</span></div><div class="line">        <span class="keyword">if</span>(Num.indexOf(<span class="string">"."</span>) != <span class="number">-1</span>) &#123;</div><div class="line">            <span class="keyword">if</span>(part[<span class="number">1</span>].length &gt; <span class="number">2</span>) &#123;</div><div class="line">                <span class="comment">// alert("小数点之后只能保留两位,系统将自动截断");</span></div><div class="line">                part[<span class="number">1</span>] = part[<span class="number">1</span>].substr(<span class="number">0</span>, <span class="number">2</span>)</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; part[<span class="number">1</span>].length; i++) &#123;</div><div class="line">                tmpnewchar = <span class="string">""</span></div><div class="line">                perchar = part[<span class="number">1</span>].charAt(i)</div><div class="line">                <span class="keyword">switch</span>(perchar) &#123;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"0"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"零"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"1"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"壹"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"2"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"贰"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"3"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"叁"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"4"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"肆"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"5"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"伍"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"6"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"陆"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"7"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"柒"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"8"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"捌"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="string">"9"</span>:</div><div class="line">                        tmpnewchar = <span class="string">"玖"</span> + tmpnewchar;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(i == <span class="number">0</span>) tmpnewchar = tmpnewchar + <span class="string">"角"</span>;</div><div class="line">                <span class="keyword">if</span>(i == <span class="number">1</span>) tmpnewchar = tmpnewchar + <span class="string">"分"</span>;</div><div class="line">                newchar = newchar + tmpnewchar;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//替换所有无用汉字</span></div><div class="line">        <span class="keyword">while</span>(newchar.search(<span class="string">"零零"</span>) != <span class="number">-1</span>)</div><div class="line">            newchar = newchar.replace(<span class="string">"零零"</span>, <span class="string">"零"</span>);</div><div class="line">        newchar = newchar.replace(<span class="string">"零亿"</span>, <span class="string">"亿"</span>);</div><div class="line">        newchar = newchar.replace(<span class="string">"亿万"</span>, <span class="string">"亿"</span>);</div><div class="line">        newchar = newchar.replace(<span class="string">"零万"</span>, <span class="string">"万"</span>);</div><div class="line">        newchar = newchar.replace(<span class="string">"零元"</span>, <span class="string">"元"</span>);</div><div class="line">        newchar = newchar.replace(<span class="string">"零角"</span>, <span class="string">""</span>);</div><div class="line">        newchar = newchar.replace(<span class="string">"零分"</span>, <span class="string">""</span>);</div><div class="line">        <span class="keyword">if</span>(newchar.charAt(newchar.length - <span class="number">1</span>) == <span class="string">"元"</span>) &#123;</div><div class="line">            newchar = newchar + <span class="string">"整"</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> newchar;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="6-Http"><a href="#6-Http" class="headerlink" title="6. Http"></a>6. Http</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @param  &#123;setting&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">ajax(setting)&#123;</div><div class="line">    <span class="comment">//设置参数的初始值</span></div><div class="line">    <span class="keyword">var</span> opts=&#123;</div><div class="line">        method: (setting.method || <span class="string">"GET"</span>).toUpperCase(), <span class="comment">//请求方式</span></div><div class="line">        url: setting.url || <span class="string">""</span>, <span class="comment">// 请求地址</span></div><div class="line">        <span class="keyword">async</span>: setting.async || <span class="literal">true</span>, <span class="comment">// 是否异步</span></div><div class="line">        dataType: setting.dataType || <span class="string">"json"</span>, <span class="comment">// 解析方式</span></div><div class="line">        data: setting.data || <span class="string">""</span>, <span class="comment">// 参数</span></div><div class="line">        success: setting.success || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, <span class="comment">// 请求成功回调</span></div><div class="line">        error: setting.error || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; <span class="comment">// 请求失败回调</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 参数格式化</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">params_format</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> str = <span class="string">''</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</div><div class="line">            str += i + <span class="string">'='</span> + obj[i] + <span class="string">'&amp;'</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> str.split(<span class="string">''</span>).slice(<span class="number">0</span>, <span class="number">-1</span>).join(<span class="string">''</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 创建ajax对象</span></div><div class="line">    <span class="keyword">var</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</div><div class="line"></div><div class="line">    <span class="comment">// 连接服务器open(方法GET/POST，请求地址， 异步传输)</span></div><div class="line">    <span class="keyword">if</span>(opts.method == <span class="string">'GET'</span>)&#123;</div><div class="line">        xhr.open(opts.method, opts.url + <span class="string">"?"</span> + params_format(opts.data), opts.async);</div><div class="line">        xhr.send();</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        xhr.open(opts.method, opts.url, opts.async);</div><div class="line">        xhr.setRequestHeader(<span class="string">"Content-Type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</div><div class="line">        xhr.send(opts.data);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">    ** 每当readyState改变时，就会触发onreadystatechange事件</span></div><div class="line"><span class="comment">    ** readyState属性存储有XMLHttpRequest的状态信息</span></div><div class="line"><span class="comment">    ** 0 ：请求未初始化</span></div><div class="line"><span class="comment">    ** 1 ：服务器连接已建立</span></div><div class="line"><span class="comment">    ** 2 ：请求已接受</span></div><div class="line"><span class="comment">    ** 3 : 请求处理中</span></div><div class="line"><span class="comment">    ** 4 ：请求已完成，且相应就绪</span></div><div class="line"><span class="comment">    */</span></div><div class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span> &amp;&amp; (xhr.status === <span class="number">200</span> || xhr.status === <span class="number">304</span>)) &#123;</div><div class="line">            <span class="keyword">switch</span>(opts.dataType)&#123;</div><div class="line">                <span class="keyword">case</span> <span class="string">"json"</span>:</div><div class="line">                    <span class="keyword">var</span> json = <span class="built_in">JSON</span>.parse(xhr.responseText);</div><div class="line">                    opts.success(json);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="string">"xml"</span>:</div><div class="line">                    opts.success(xhr.responseXML);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">default</span>:</div><div class="line">                    opts.success(xhr.responseText);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    xhr.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">        opts.error(err);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @param  &#123;url&#125;</span></div><div class="line"><span class="comment"> * @param  &#123;setting&#125;</span></div><div class="line"><span class="comment"> * @return &#123;Promise&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">fetch(url, setting) &#123;</div><div class="line">    <span class="comment">//设置参数的初始值</span></div><div class="line">    <span class="keyword">let</span> opts=&#123;</div><div class="line">        method: (setting.method || <span class="string">'GET'</span>).toUpperCase(), <span class="comment">//请求方式</span></div><div class="line">        headers : setting.headers  || &#123;&#125;, <span class="comment">// 请求头设置</span></div><div class="line">        credentials : setting.credentials  || <span class="literal">true</span>, <span class="comment">// 设置cookie是否一起发送</span></div><div class="line">        body: setting.body || &#123;&#125;,</div><div class="line">        mode : setting.mode  || <span class="string">'no-cors'</span>, <span class="comment">// 可以设置 cors, no-cors, same-origin</span></div><div class="line">        redirect : setting.redirect  || <span class="string">'follow'</span>, <span class="comment">// follow, error, manual</span></div><div class="line">        cache : setting.cache  || <span class="string">'default'</span> <span class="comment">// 设置 cache 模式 (default, reload, no-cache)</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> dataType = setting.dataType || <span class="string">"json"</span>, <span class="comment">// 解析方式  </span></div><div class="line">        data = setting.data || <span class="string">""</span> <span class="comment">// 参数</span></div><div class="line"></div><div class="line">    <span class="comment">// 参数格式化</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">params_format</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> str = <span class="string">''</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</div><div class="line">            str += <span class="string">`<span class="subst">$&#123;i&#125;</span>=<span class="subst">$&#123;obj[i]&#125;</span>&amp;`</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> str.split(<span class="string">''</span>).slice(<span class="number">0</span>, <span class="number">-1</span>).join(<span class="string">''</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (opts.method === <span class="string">'GET'</span>) &#123;</div><div class="line">        url = url + (data?<span class="string">`?<span class="subst">$&#123;params_format(data)&#125;</span>`</span>:<span class="string">''</span>)</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        setting.body = data || &#123;&#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">        fetch(url, opts).then( <span class="keyword">async</span> res =&gt; &#123;</div><div class="line">            <span class="keyword">let</span> data = dataType === <span class="string">'text'</span> ? <span class="keyword">await</span> res.text() :</div><div class="line">                dataType === <span class="string">'blob'</span> ? <span class="keyword">await</span> res.blob() : <span class="keyword">await</span> res.json()</div><div class="line">            resolve(data)</div><div class="line">        &#125;).catch( <span class="function"><span class="params">e</span> =&gt;</span> &#123;</div><div class="line">            reject(e)</div><div class="line">        &#125;)</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="7-DOM"><a href="#7-DOM" class="headerlink" title="7. DOM"></a>7. DOM</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">$ (selector)&#123;</div><div class="line">    <span class="keyword">var</span> type = selector.substring(<span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">if</span> (type === <span class="string">'#'</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.querySelecotor) <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(selector)</div><div class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(selector.substring(<span class="number">1</span>))</div><div class="line"></div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'.'</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.querySelecotorAll) <span class="keyword">return</span> <span class="built_in">document</span>.querySelectorAll(selector)</div><div class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.getElementsByClassName(selector.substring(<span class="number">1</span>))</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">document</span>[<span class="string">'querySelectorAll'</span> ? <span class="string">'querySelectorAll'</span>:<span class="string">'getElementsByTagName'</span>](selector)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*检测类名*/</span></div><div class="line">hasClass (ele, name) &#123;</div><div class="line">    <span class="keyword">return</span> ele.className.match(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(\\s|^)'</span> + name + <span class="string">'(\\s|$)'</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*添加类名*/</span></div><div class="line">addClass (ele, name) &#123;</div><div class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.hasClass(ele, name)) ele.className += <span class="string">" "</span> + name;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*删除类名*/</span></div><div class="line">removeClass (ele, name) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.hasClass(ele, name)) &#123;</div><div class="line">        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(\\s|^)'</span> + name + <span class="string">'(\\s|$)'</span>);</div><div class="line">        ele.className = ele.className.replace(reg, <span class="string">''</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*替换类名*/</span></div><div class="line">replaceClass (ele, newName, oldName) &#123;</div><div class="line">    <span class="keyword">this</span>.removeClass(ele, oldName);</div><div class="line">    <span class="keyword">this</span>.addClass(ele, newName);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取兄弟节点*/</span></div><div class="line">siblings (ele) &#123;</div><div class="line">    <span class="built_in">console</span>.log(ele.parentNode)</div><div class="line">    <span class="keyword">var</span> chid = ele.parentNode.children,eleMatch = [];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = chid.length; i &lt; len; i ++)&#123;</div><div class="line">        <span class="keyword">if</span>(chid[i] != ele)&#123;</div><div class="line">            eleMatch.push(chid[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> eleMatch;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取行间样式属性*/</span></div><div class="line">getByStyle (obj,name)&#123;</div><div class="line">    <span class="keyword">if</span>(obj.currentStyle)&#123;</div><div class="line">        <span class="keyword">return</span>  obj.currentStyle[name];</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span>  getComputedStyle(obj,<span class="literal">false</span>)[name];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="8-Storage-储存操作"><a href="#8-Storage-储存操作" class="headerlink" title="8. Storage 储存操作"></a>8. Storage 储存操作</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StorageFn</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">this</span>.ls = <span class="built_in">window</span>.localStorage</div><div class="line">    <span class="keyword">this</span>.ss = <span class="built_in">window</span>.sessionStorage</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*-----------------cookie---------------------*/</span></div><div class="line">  <span class="comment">/*设置cookie*/</span></div><div class="line">  setCookie(name, value, day) &#123;</div><div class="line">    <span class="keyword">var</span> setting = <span class="built_in">arguments</span>[<span class="number">0</span>]</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(setting).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Object'</span>) &#123;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> setting) &#123;</div><div class="line">        <span class="keyword">var</span> oDate = <span class="keyword">new</span> <span class="built_in">Date</span>()</div><div class="line">        oDate.setDate(oDate.getDate() + day)</div><div class="line">        <span class="built_in">document</span>.cookie = i + <span class="string">'='</span> + setting[i] + <span class="string">';expires='</span> + oDate</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">var</span> oDate = <span class="keyword">new</span> <span class="built_in">Date</span>()</div><div class="line">      oDate.setDate(oDate.getDate() + day)</div><div class="line">      <span class="built_in">document</span>.cookie = name + <span class="string">'='</span> + value + <span class="string">';expires='</span> + oDate</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*获取cookie*/</span></div><div class="line">  getCookie(name) &#123;</div><div class="line">    <span class="keyword">var</span> arr = <span class="built_in">document</span>.cookie.split(<span class="string">'; '</span>)</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</div><div class="line">      <span class="keyword">var</span> arr2 = arr[i].split(<span class="string">'='</span>)</div><div class="line">      <span class="keyword">if</span> (arr2[<span class="number">0</span>] == name) &#123;</div><div class="line">        <span class="keyword">return</span> arr2[<span class="number">1</span>]</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="string">''</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*删除cookie*/</span></div><div class="line">  removeCookie(name) &#123;</div><div class="line">    <span class="keyword">this</span>.setCookie(name, <span class="number">1</span>, <span class="number">-1</span>)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*-----------------localStorage---------------------*/</span></div><div class="line">  <span class="comment">/*设置localStorage*/</span></div><div class="line">  setLocal(key, val) &#123;</div><div class="line">    <span class="keyword">var</span> setting = <span class="built_in">arguments</span>[<span class="number">0</span>]</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(setting).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Object'</span>) &#123;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> setting) &#123;</div><div class="line">        <span class="keyword">this</span>.ls.setItem(i, <span class="built_in">JSON</span>.stringify(setting[i]))</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">this</span>.ls.setItem(key, <span class="built_in">JSON</span>.stringify(val))</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*获取localStorage*/</span></div><div class="line">  getLocal(key) &#123;</div><div class="line">    <span class="keyword">if</span> (key) <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(<span class="keyword">this</span>.ls.getItem(key))</div><div class="line">    <span class="keyword">return</span> <span class="literal">null</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*移除localStorage*/</span></div><div class="line">  removeLocal(key) &#123;</div><div class="line">    <span class="keyword">this</span>.ls.removeItem(key)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*移除所有localStorage*/</span></div><div class="line">  clearLocal() &#123;</div><div class="line">    <span class="keyword">this</span>.ls.clear()</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*-----------------sessionStorage---------------------*/</span></div><div class="line">  <span class="comment">/*设置sessionStorage*/</span></div><div class="line">  setSession(key, val) &#123;</div><div class="line">    <span class="keyword">var</span> setting = <span class="built_in">arguments</span>[<span class="number">0</span>]</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(setting).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Object'</span>) &#123;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> setting) &#123;</div><div class="line">        <span class="keyword">this</span>.ss.setItem(i, <span class="built_in">JSON</span>.stringify(setting[i]))</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">this</span>.ss.setItem(key, <span class="built_in">JSON</span>.stringify(val))</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*获取sessionStorage*/</span></div><div class="line">  getSession(key) &#123;</div><div class="line">    <span class="keyword">if</span> (key) <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(<span class="keyword">this</span>.ss.getItem(key))</div><div class="line">    <span class="keyword">return</span> <span class="literal">null</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*移除sessionStorage*/</span></div><div class="line">  removeSession(key) &#123;</div><div class="line">    <span class="keyword">this</span>.ss.removeItem(key)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/*移除所有sessionStorage*/</span></div><div class="line">  clearSession() &#123;</div><div class="line">    <span class="keyword">this</span>.ss.clear()</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-Other-其它操作"><a href="#9-Other-其它操作" class="headerlink" title="9. Other 其它操作"></a>9. Other 其它操作</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*获取网址参数*/</span></div><div class="line">getURL(name)&#123;</div><div class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^|&amp;)"</span>+ name +<span class="string">"=([^&amp;]*)(&amp;|$)"</span>);</div><div class="line">    <span class="keyword">var</span> r = <span class="built_in">decodeURI</span>(<span class="built_in">window</span>.location.search).substr(<span class="number">1</span>).match(reg);</div><div class="line">    <span class="keyword">if</span>(r!=<span class="literal">null</span>) <span class="keyword">return</span>  r[<span class="number">2</span>]; <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取全部url参数,并转换成json对象*/</span></div><div class="line">getUrlAllParams (url) &#123;</div><div class="line">    <span class="keyword">var</span> url = url ? url : <span class="built_in">window</span>.location.href;</div><div class="line">    <span class="keyword">var</span> _pa = url.substring(url.indexOf(<span class="string">'?'</span>) + <span class="number">1</span>),</div><div class="line">        _arrS = _pa.split(<span class="string">'&amp;'</span>),</div><div class="line">        _rs = &#123;&#125;;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, _len = _arrS.length; i &lt; _len; i++) &#123;</div><div class="line">        <span class="keyword">var</span> pos = _arrS[i].indexOf(<span class="string">'='</span>);</div><div class="line">        <span class="keyword">if</span> (pos == <span class="number">-1</span>) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> name = _arrS[i].substring(<span class="number">0</span>, pos),</div><div class="line">            value = <span class="built_in">window</span>.decodeURIComponent(_arrS[i].substring(pos + <span class="number">1</span>));</div><div class="line">        _rs[name] = value;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _rs;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*删除url指定参数，返回url*/</span></div><div class="line">delParamsUrl(url, name)&#123;</div><div class="line">    <span class="keyword">var</span> baseUrl = url.split(<span class="string">'?'</span>)[<span class="number">0</span>] + <span class="string">'?'</span>;</div><div class="line">    <span class="keyword">var</span> query = url.split(<span class="string">'?'</span>)[<span class="number">1</span>];</div><div class="line">    <span class="keyword">if</span> (query.indexOf(name)&gt;<span class="number">-1</span>) &#123;</div><div class="line">        <span class="keyword">var</span> obj = &#123;&#125;</div><div class="line">        <span class="keyword">var</span> arr = query.split(<span class="string">"&amp;"</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</div><div class="line">            arr[i] = arr[i].split(<span class="string">"="</span>);</div><div class="line">            obj[arr[i][<span class="number">0</span>]] = arr[i][<span class="number">1</span>];</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">delete</span> obj[name];</div><div class="line">        <span class="keyword">var</span> url = baseUrl + <span class="built_in">JSON</span>.stringify(obj).replace(<span class="regexp">/[\"\&#123;\&#125;]/g</span>,<span class="string">""</span>).replace(<span class="regexp">/\:/g</span>,<span class="string">"="</span>).replace(<span class="regexp">/\,/g</span>,<span class="string">"&amp;"</span>);</div><div class="line">        <span class="keyword">return</span> url</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> url;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*获取十六进制随机颜色*/</span></div><div class="line">getRandomColor () &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'#'</span> + (<span class="function"><span class="keyword">function</span>(<span class="params">h</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">7</span> - h.length).join(<span class="string">"0"</span>) + h;</div><div class="line">    &#125;)((<span class="built_in">Math</span>.random() * <span class="number">0x1000000</span> &lt;&lt; <span class="number">0</span>).toString(<span class="number">16</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*图片加载*/</span></div><div class="line">imgLoadAll(arr,callback)&#123;</div><div class="line">    <span class="keyword">var</span> arrImg = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</div><div class="line">        <span class="keyword">var</span> img = <span class="keyword">new</span> Image();</div><div class="line">        img.src = arr[i];</div><div class="line">        img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            arrImg.push(<span class="keyword">this</span>);</div><div class="line">            <span class="keyword">if</span> (arrImg.length == arr.length) &#123;</div><div class="line">                callback &amp;&amp; callback();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*音频加载*/</span></div><div class="line">loadAudio(src, callback) &#123;</div><div class="line">    <span class="keyword">var</span> audio = <span class="keyword">new</span> Audio(src);</div><div class="line">    audio.onloadedmetadata = callback;</div><div class="line">    audio.src = src;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*DOM转字符串*/</span></div><div class="line">domToStirng(htmlDOM)&#123;</div><div class="line">    <span class="keyword">var</span> div= <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">    div.appendChild(htmlDOM);</div><div class="line">    <span class="keyword">return</span> div.innerHTML</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*字符串转DOM*/</span></div><div class="line">stringToDom(htmlString)&#123;</div><div class="line">    <span class="keyword">var</span> div= <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">    div.innerHTML=htmlString;</div><div class="line">    <span class="keyword">return</span> div.children[<span class="number">0</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 光标所在位置插入字符，并设置光标位置</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @param &#123;dom&#125; 输入框</span></div><div class="line"><span class="comment"> * @param &#123;val&#125; 插入的值</span></div><div class="line"><span class="comment"> * @param &#123;posLen&#125; 光标位置处在 插入的值的哪个位置</span></div><div class="line"><span class="comment"> */</span></div><div class="line">setCursorPosition (dom,val,posLen) &#123;</div><div class="line">    <span class="keyword">var</span> cursorPosition = <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(dom.selectionStart)&#123;</div><div class="line">        cursorPosition = dom.selectionStart;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">this</span>.insertAtCursor(dom,val);</div><div class="line">    dom.focus();</div><div class="line">    <span class="built_in">console</span>.log(posLen)</div><div class="line">    dom.setSelectionRange(dom.value.length,cursorPosition + (posLen || val.length));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*光标所在位置插入字符*/</span></div><div class="line">insertAtCursor(dom, val) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.selection)&#123;</div><div class="line">        dom.focus();</div><div class="line">        sel = <span class="built_in">document</span>.selection.createRange();</div><div class="line">        sel.text = val;</div><div class="line">        sel.select();</div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (dom.selectionStart || dom.selectionStart == <span class="string">'0'</span>)&#123;</div><div class="line">        <span class="keyword">let</span> startPos = dom.selectionStart;</div><div class="line">        <span class="keyword">let</span> endPos = dom.selectionEnd;</div><div class="line">        <span class="keyword">let</span> restoreTop = dom.scrollTop;</div><div class="line">        dom.value = dom.value.substring(<span class="number">0</span>, startPos) + val + dom.value.substring(endPos, dom.value.length);</div><div class="line">        <span class="keyword">if</span> (restoreTop &gt; <span class="number">0</span>)&#123;</div><div class="line">            dom.scrollTop = restoreTop;</div><div class="line">        &#125;</div><div class="line">        dom.focus();</div><div class="line">        dom.selectionStart = startPos + val.length;</div><div class="line">        dom.selectionEnd = startPos + val.length;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        dom.value += val;</div><div class="line">        dom.focus();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h3 id="1-pc-reset-PC-样式初始化"><a href="#1-pc-reset-PC-样式初始化" class="headerlink" title="1. pc-reset PC 样式初始化"></a>1. pc-reset PC 样式初始化</h3><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/* normalize.css */</span></div><div class="line"></div><div class="line"><span class="selector-tag">html</span> &#123;</div><div class="line">  <span class="attribute">line-height</span>: <span class="number">1.15</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">-ms-text-size-adjust</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">  <span class="attribute">-webkit-text-size-adjust</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">article</span>,</div><div class="line"><span class="selector-tag">aside</span>,</div><div class="line"><span class="selector-tag">footer</span>,</div><div class="line"><span class="selector-tag">header</span>,</div><div class="line"><span class="selector-tag">nav</span>,</div><div class="line"><span class="selector-tag">section</span> &#123;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">h1</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0.67em</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">figcaption</span>,</div><div class="line"><span class="selector-tag">figure</span>,</div><div class="line"><span class="selector-tag">main</span> &#123;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">figure</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">1em</span> <span class="number">40px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">hr</span> &#123;</div><div class="line">  <span class="attribute">box-sizing</span>: content-box;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">overflow</span>: visible;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">pre</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: monospace, monospace;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: transparent;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">-webkit-text-decoration-skip</span>: objects;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">abbr</span><span class="selector-attr">[title]</span> &#123;</div><div class="line">  <span class="attribute">border-bottom</span>: none;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">text-decoration</span>: underline;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">  <span class="attribute">text-decoration</span>: underline dotted;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">b</span>,</div><div class="line"><span class="selector-tag">strong</span> &#123;</div><div class="line">  <span class="attribute">font-weight</span>: inherit;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">b</span>,</div><div class="line"><span class="selector-tag">strong</span> &#123;</div><div class="line">  <span class="attribute">font-weight</span>: bolder;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">code</span>,</div><div class="line"><span class="selector-tag">kbd</span>,</div><div class="line"><span class="selector-tag">samp</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: monospace, monospace;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">dfn</span> &#123;</div><div class="line">  <span class="attribute">font-style</span>: italic;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">mark</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0</span>;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">small</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">80%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">sub</span>,</div><div class="line"><span class="selector-tag">sup</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">75%</span>;</div><div class="line">  <span class="attribute">line-height</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">  <span class="attribute">vertical-align</span>: baseline;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">sub</span> &#123;</div><div class="line">  <span class="attribute">bottom</span>: -<span class="number">0.25em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">sup</span> &#123;</div><div class="line">  <span class="attribute">top</span>: -<span class="number">0.5em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">audio</span>,</div><div class="line"><span class="selector-tag">video</span> &#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">audio</span><span class="selector-pseudo">:not(</span><span class="selector-attr">[controls]</span>) &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">img</span> &#123;</div><div class="line">  <span class="attribute">border-style</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">svg</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:root)</span> &#123;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">input</span>,</div><div class="line"><span class="selector-tag">optgroup</span>,</div><div class="line"><span class="selector-tag">select</span>,</div><div class="line"><span class="selector-tag">textarea</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: sans-serif;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font-size</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">line-height</span>: <span class="number">1.15</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">input</span> &#123;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">overflow</span>: visible;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">select</span> &#123;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">text-transform</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">html</span> <span class="selector-attr">[type="button"]</span>,</div><div class="line"></div><div class="line"><span class="comment">/* 1 */</span></div><div class="line"></div><div class="line"><span class="selector-attr">[type="reset"]</span>,</div><div class="line"><span class="selector-attr">[type="submit"]</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: button;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span><span class="selector-pseudo">::-moz-focus-inner</span>,</div><div class="line"><span class="selector-attr">[type='button']</span><span class="selector-pseudo">::-moz-focus-inner</span>,</div><div class="line"><span class="selector-attr">[type='reset']</span><span class="selector-pseudo">::-moz-focus-inner</span>,</div><div class="line"><span class="selector-attr">[type='submit']</span><span class="selector-pseudo">::-moz-focus-inner</span> &#123;</div><div class="line">  <span class="attribute">border-style</span>: none;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:-moz-focusring</span>,</div><div class="line"><span class="selector-attr">[type='button']</span><span class="selector-pseudo">:-moz-focusring</span>,</div><div class="line"><span class="selector-attr">[type='reset']</span><span class="selector-pseudo">:-moz-focusring</span>,</div><div class="line"><span class="selector-attr">[type='submit']</span><span class="selector-pseudo">:-moz-focusring</span> &#123;</div><div class="line">  <span class="attribute">outline</span>: <span class="number">1px</span> dotted ButtonText;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">fieldset</span> &#123;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0.35em</span> <span class="number">0.75em</span> <span class="number">0.625em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">legend</span> &#123;</div><div class="line">  <span class="attribute">box-sizing</span>: border-box;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">color</span>: inherit;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">  <span class="attribute">display</span>: table;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 3 */</span></div><div class="line">  <span class="attribute">white-space</span>: normal;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">progress</span> &#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">vertical-align</span>: baseline;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">textarea</span> &#123;</div><div class="line">  <span class="attribute">overflow</span>: auto;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='checkbox']</span>,</div><div class="line"><span class="selector-attr">[type='radio']</span> &#123;</div><div class="line">  <span class="attribute">box-sizing</span>: border-box;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='number']</span><span class="selector-pseudo">::-webkit-inner-spin-button</span>,</div><div class="line"><span class="selector-attr">[type='number']</span><span class="selector-pseudo">::-webkit-outer-spin-button</span> &#123;</div><div class="line">  <span class="attribute">height</span>: auto;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='search']</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: textfield;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">outline-offset</span>: -<span class="number">2px</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='search']</span><span class="selector-pseudo">::-webkit-search-cancel-button</span>,</div><div class="line"><span class="selector-attr">[type='search']</span><span class="selector-pseudo">::-webkit-search-decoration</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-pseudo">::-webkit-file-upload-button</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: button;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font</span>: inherit;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">details</span>,</div><div class="line"></div><div class="line"><span class="comment">/* 1 */</span></div><div class="line"></div><div class="line"><span class="selector-tag">menu</span> &#123;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">summary</span> &#123;</div><div class="line">  <span class="attribute">display</span>: list-item;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">canvas</span> &#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">template</span> &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[hidden]</span> &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* reset */</span></div><div class="line"></div><div class="line"><span class="selector-tag">html</span>,</div><div class="line"><span class="selector-tag">body</span>,</div><div class="line"><span class="selector-tag">h1</span>,</div><div class="line"><span class="selector-tag">h2</span>,</div><div class="line"><span class="selector-tag">h3</span>,</div><div class="line"><span class="selector-tag">h4</span>,</div><div class="line"><span class="selector-tag">h5</span>,</div><div class="line"><span class="selector-tag">h6</span>,</div><div class="line"><span class="selector-tag">div</span>,</div><div class="line"><span class="selector-tag">dl</span>,</div><div class="line"><span class="selector-tag">dt</span>,</div><div class="line"><span class="selector-tag">dd</span>,</div><div class="line"><span class="selector-tag">ul</span>,</div><div class="line"><span class="selector-tag">ol</span>,</div><div class="line"><span class="selector-tag">li</span>,</div><div class="line"><span class="selector-tag">p</span>,</div><div class="line"><span class="selector-tag">blockquote</span>,</div><div class="line"><span class="selector-tag">pre</span>,</div><div class="line"><span class="selector-tag">hr</span>,</div><div class="line"><span class="selector-tag">figure</span>,</div><div class="line"><span class="selector-tag">table</span>,</div><div class="line"><span class="selector-tag">caption</span>,</div><div class="line"><span class="selector-tag">th</span>,</div><div class="line"><span class="selector-tag">td</span>,</div><div class="line"><span class="selector-tag">form</span>,</div><div class="line"><span class="selector-tag">fieldset</span>,</div><div class="line"><span class="selector-tag">legend</span>,</div><div class="line"><span class="selector-tag">input</span>,</div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">textarea</span>,</div><div class="line"><span class="selector-tag">menu</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">box-sizing</span>: border-box;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-Phone-reset"><a href="#2-Phone-reset" class="headerlink" title="2. Phone-reset"></a>2. Phone-reset</h3><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/* normalize.css */</span></div><div class="line"></div><div class="line"><span class="selector-tag">html</span> &#123;</div><div class="line">  <span class="attribute">line-height</span>: <span class="number">1.15</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">-ms-text-size-adjust</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">  <span class="attribute">-webkit-text-size-adjust</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">article</span>,</div><div class="line"><span class="selector-tag">aside</span>,</div><div class="line"><span class="selector-tag">footer</span>,</div><div class="line"><span class="selector-tag">header</span>,</div><div class="line"><span class="selector-tag">nav</span>,</div><div class="line"><span class="selector-tag">section</span> &#123;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">h1</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0.67em</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">figcaption</span>,</div><div class="line"><span class="selector-tag">figure</span>,</div><div class="line"><span class="selector-tag">main</span> &#123;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">figure</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">1em</span> <span class="number">40px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">hr</span> &#123;</div><div class="line">  <span class="attribute">box-sizing</span>: content-box;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">overflow</span>: visible;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">pre</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: monospace, monospace;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: transparent;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">-webkit-text-decoration-skip</span>: objects;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">abbr</span><span class="selector-attr">[title]</span> &#123;</div><div class="line">  <span class="attribute">border-bottom</span>: none;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">text-decoration</span>: underline;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">  <span class="attribute">text-decoration</span>: underline dotted;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">b</span>,</div><div class="line"><span class="selector-tag">strong</span> &#123;</div><div class="line">  <span class="attribute">font-weight</span>: inherit;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">b</span>,</div><div class="line"><span class="selector-tag">strong</span> &#123;</div><div class="line">  <span class="attribute">font-weight</span>: bolder;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">code</span>,</div><div class="line"><span class="selector-tag">kbd</span>,</div><div class="line"><span class="selector-tag">samp</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: monospace, monospace;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">dfn</span> &#123;</div><div class="line">  <span class="attribute">font-style</span>: italic;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">mark</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0</span>;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">small</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">80%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">sub</span>,</div><div class="line"><span class="selector-tag">sup</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">75%</span>;</div><div class="line">  <span class="attribute">line-height</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">  <span class="attribute">vertical-align</span>: baseline;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">sub</span> &#123;</div><div class="line">  <span class="attribute">bottom</span>: -<span class="number">0.25em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">sup</span> &#123;</div><div class="line">  <span class="attribute">top</span>: -<span class="number">0.5em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">audio</span>,</div><div class="line"><span class="selector-tag">video</span> &#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">audio</span><span class="selector-pseudo">:not(</span><span class="selector-attr">[controls]</span>) &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">img</span> &#123;</div><div class="line">  <span class="attribute">border-style</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">svg</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:root)</span> &#123;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">input</span>,</div><div class="line"><span class="selector-tag">optgroup</span>,</div><div class="line"><span class="selector-tag">select</span>,</div><div class="line"><span class="selector-tag">textarea</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: sans-serif;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font-size</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">line-height</span>: <span class="number">1.15</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">input</span> &#123;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">overflow</span>: visible;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">select</span> &#123;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">text-transform</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">html</span> <span class="selector-attr">[type="button"]</span>,</div><div class="line"></div><div class="line"><span class="comment">/* 1 */</span></div><div class="line"></div><div class="line"><span class="selector-attr">[type="reset"]</span>,</div><div class="line"><span class="selector-attr">[type="submit"]</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: button;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span><span class="selector-pseudo">::-moz-focus-inner</span>,</div><div class="line"><span class="selector-attr">[type='button']</span><span class="selector-pseudo">::-moz-focus-inner</span>,</div><div class="line"><span class="selector-attr">[type='reset']</span><span class="selector-pseudo">::-moz-focus-inner</span>,</div><div class="line"><span class="selector-attr">[type='submit']</span><span class="selector-pseudo">::-moz-focus-inner</span> &#123;</div><div class="line">  <span class="attribute">border-style</span>: none;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:-moz-focusring</span>,</div><div class="line"><span class="selector-attr">[type='button']</span><span class="selector-pseudo">:-moz-focusring</span>,</div><div class="line"><span class="selector-attr">[type='reset']</span><span class="selector-pseudo">:-moz-focusring</span>,</div><div class="line"><span class="selector-attr">[type='submit']</span><span class="selector-pseudo">:-moz-focusring</span> &#123;</div><div class="line">  <span class="attribute">outline</span>: <span class="number">1px</span> dotted ButtonText;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">fieldset</span> &#123;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0.35em</span> <span class="number">0.75em</span> <span class="number">0.625em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">legend</span> &#123;</div><div class="line">  <span class="attribute">box-sizing</span>: border-box;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">color</span>: inherit;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">  <span class="attribute">display</span>: table;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 3 */</span></div><div class="line">  <span class="attribute">white-space</span>: normal;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">progress</span> &#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">vertical-align</span>: baseline;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">textarea</span> &#123;</div><div class="line">  <span class="attribute">overflow</span>: auto;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='checkbox']</span>,</div><div class="line"><span class="selector-attr">[type='radio']</span> &#123;</div><div class="line">  <span class="attribute">box-sizing</span>: border-box;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='number']</span><span class="selector-pseudo">::-webkit-inner-spin-button</span>,</div><div class="line"><span class="selector-attr">[type='number']</span><span class="selector-pseudo">::-webkit-outer-spin-button</span> &#123;</div><div class="line">  <span class="attribute">height</span>: auto;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='search']</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: textfield;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">outline-offset</span>: -<span class="number">2px</span>;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[type='search']</span><span class="selector-pseudo">::-webkit-search-cancel-button</span>,</div><div class="line"><span class="selector-attr">[type='search']</span><span class="selector-pseudo">::-webkit-search-decoration</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-pseudo">::-webkit-file-upload-button</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: button;</div><div class="line">  <span class="comment">/* 1 */</span></div><div class="line">  <span class="attribute">font</span>: inherit;</div><div class="line">  <span class="comment">/* 2 */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">details</span>,</div><div class="line"></div><div class="line"><span class="comment">/* 1 */</span></div><div class="line"></div><div class="line"><span class="selector-tag">menu</span> &#123;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">summary</span> &#123;</div><div class="line">  <span class="attribute">display</span>: list-item;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">canvas</span> &#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">template</span> &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-attr">[hidden]</span> &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* reset */</span></div><div class="line"></div><div class="line"><span class="selector-tag">html</span>,</div><div class="line"><span class="selector-tag">body</span>,</div><div class="line"><span class="selector-tag">h1</span>,</div><div class="line"><span class="selector-tag">h2</span>,</div><div class="line"><span class="selector-tag">h3</span>,</div><div class="line"><span class="selector-tag">h4</span>,</div><div class="line"><span class="selector-tag">h5</span>,</div><div class="line"><span class="selector-tag">h6</span>,</div><div class="line"><span class="selector-tag">div</span>,</div><div class="line"><span class="selector-tag">dl</span>,</div><div class="line"><span class="selector-tag">dt</span>,</div><div class="line"><span class="selector-tag">dd</span>,</div><div class="line"><span class="selector-tag">ul</span>,</div><div class="line"><span class="selector-tag">ol</span>,</div><div class="line"><span class="selector-tag">li</span>,</div><div class="line"><span class="selector-tag">p</span>,</div><div class="line"><span class="selector-tag">blockquote</span>,</div><div class="line"><span class="selector-tag">pre</span>,</div><div class="line"><span class="selector-tag">hr</span>,</div><div class="line"><span class="selector-tag">figure</span>,</div><div class="line"><span class="selector-tag">table</span>,</div><div class="line"><span class="selector-tag">caption</span>,</div><div class="line"><span class="selector-tag">th</span>,</div><div class="line"><span class="selector-tag">td</span>,</div><div class="line"><span class="selector-tag">form</span>,</div><div class="line"><span class="selector-tag">fieldset</span>,</div><div class="line"><span class="selector-tag">legend</span>,</div><div class="line"><span class="selector-tag">input</span>,</div><div class="line"><span class="selector-tag">button</span>,</div><div class="line"><span class="selector-tag">textarea</span>,</div><div class="line"><span class="selector-tag">menu</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">box-sizing</span>: border-box;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">html</span>,</div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="comment">/* 禁止选中文本 */</span></div><div class="line">  <span class="attribute">-webkit-user-select</span>: none;</div><div class="line">  <span class="attribute">user-select</span>: none;</div><div class="line">  <span class="attribute">font</span>: Oswald, <span class="string">'Open Sans'</span>, Helvetica, Arial, sans-serif;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 禁止长按链接与图片弹出菜单 */</span></div><div class="line"></div><div class="line"><span class="selector-tag">a</span>,</div><div class="line"><span class="selector-tag">img</span> &#123;</div><div class="line">  <span class="attribute">-webkit-touch-callout</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*ios android去除自带阴影的样式*/</span></div><div class="line"></div><div class="line"><span class="selector-tag">a</span>,</div><div class="line"><span class="selector-tag">input</span> &#123;</div><div class="line">  <span class="attribute">-webkit-tap-highlight-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 0);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='text']</span> &#123;</div><div class="line">  <span class="attribute">-webkit-appearance</span>: none;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-公共样式提取"><a href="#3-公共样式提取" class="headerlink" title="3. 公共样式提取"></a>3. 公共样式提取</h3><p>```css<br>/<em> 禁止选中文本 </em>/<br>.usn {<br>  -webkit-user-select: none;<br>  -moz-user-select: none;<br>  -ms-user-select: none;<br>  -o-user-select: none;<br>  user-select: none;<br>}<br>/<em> 浮动 </em>/<br>.fl {<br>  float: left;<br>}<br>.fr {<br>  float: right;<br>}<br>.cf {<br>  zoom: 1;<br>}<br>.cf:after {<br>  content: ‘.’;<br>  display: block;<br>  clear: both;<br>  visibility: hidden;<br>  height: 0;<br>  overflow: hidden;<br>}</p>
<p>/<em> 元素类型 </em>/<br>.db {<br>  display: block;<br>}<br>.dn {<br>  display: none;<br>}<br>.di {<br>  display: inline;<br>}<br>.dib {<br>  display: inline-block;<br>}<br>.transparent {<br>  opacity: 0;<br>}</p>
<p>/<em>文字排版、颜色</em>/<br>.f12 {<br>  font-size: 12px;<br>}<br>.f14 {<br>  font-size: 14px;<br>}<br>.f16 {<br>  font-size: 16px;<br>}<br>.f18 {<br>  font-size: 18px;<br>}<br>.f20 {<br>  font-size: 20px;<br>}<br>.fb {<br>  font-weight: bold;<br>}<br>.fn {<br>  font-weight: normal;<br>}<br>.t2 {<br>  text-indent: 2em;<br>}<br>.red,<br>a.red {<br>  color: #cc0031;<br>}<br>.darkblue,<br>a.darkblue {<br>  color: #039;<br>}<br>.gray,<br>a.gray {<br>  color: #878787;<br>}<br>.lh150 {<br>  line-height: 150%;<br>}<br>.lh180 {<br>  line-height: 180%;<br>}<br>.lh200 {<br>  line-height: 200%;<br>}<br>.unl {<br>  text-decoration: underline;<br>}<br>.no_unl {<br>  text-decoration: none;<br>}<br>.tl {<br>  text-align: left;<br>}<br>.tc {<br>  text-align: center;<br>}<br>.tr {<br>  text-align: right;<br>}<br>.tj {<br>  text-align: justify;<br>  text-justify: inter-ideograph;<br>}<br>.wn {<br>  /<em> 强制不换行 </em>/<br>  word-wrap: normal;<br>  white-space: nowrap;<br>}<br>.wb {<br>  /<em> 强制换行 </em>/<br>  white-space: normal;<br>  word-wrap: break-word;<br>  word-break: break-all;<br>}<br>.wp {<br>  /<em> 保持空白序列</em>/<br>  overflow: hidden;<br>  text-align: left;<br>  white-space: pre-wrap;<br>  word-wrap: break-word;<br>  word-break: break-all;<br>}<br>.wes {<br>  /<em> 多出部分用省略号表示 , 用于一行 </em>/<br>  overflow: hidden;<br>  word-wrap: normal;<br>  white-space: nowrap;<br>  text-overflow: ellipsis;<br>}<br>.wes-2 {<br>  /<em> 适用于webkit内核和移动端 </em>/<br>  display: -webkit-box;<br>  -webkit-box-orient: vertical;<br>  -webkit-line-clamp: 2;<br>  overflow: hidden;<br>}<br>.wes-3 {<br>  display: -webkit-box;<br>  -webkit-box-orient: vertical;<br>  -webkit-line-clamp: 3;<br>  overflow: hidden;<br>}<br>.wes-4 {<br>  display: -webkit-box;<br>  -webkit-box-orient: vertical;<br>  -webkit-line-clamp: 4;<br>  overflow: hidden;<br>}</p>
<p>/<em> 溢出样式 </em>/<br>.ofh {<br>  overflow: hidden;<br>}<br>.ofs {<br>  overflow: scroll;<br>}<br>.ofa {<br>  overflow: auto;<br>}<br>.ofv {<br>  overflow: visible;<br>}</p>
<p>/<em> 定位方式 </em>/<br>.ps {<br>  position: static;<br>}<br>.pr {<br>  position: relative;<br>  zoom: 1;<br>}<br>.pa {<br>  position: absolute;<br>}<br>.pf {<br>  position: fixed;<br>}</p>
<p>/<em> 垂直对齐方式 </em>/<br>.vt {<br>  vertical-align: top;<br>}<br>.vm {<br>  vertical-align: middle;<br>}<br>.vb {<br>  vertical-align: bottom;<br>}</p>
<p>/<em> 鼠标样式 </em>/<br>.csd {<br>  cursor: default;<br>}<br>.csp {<br>  cursor: pointer;<br>}<br>.csh {<br>  cursor: help;<br>}<br>.csm {<br>  cursor: move;<br>}</p>
<p>/<em> flex布局 </em>/<br>.df-sb {<br>  display: flex;<br>  align-items: center;<br>  justify-content: space-between;<br>}<br>.df-sa {<br>  display: flex;<br>  align-items: center;<br>  justify-content: space-around;<br>}</p>
<p>/<em> 垂直居中 </em>/<br>.df-c {<br>  display: flex;<br>  align-items: center;<br>  justify-content: center;<br>}<br>.tb-c {<br>  text-align: center;<br>  display: table-cell;<br>  vertical-align: middle;<br>}<br>.ts-c {<br>  position: absolute;<br>  left: 50%;<br>  top: 50%;<br>  transform: translate(-50%, -50%);<br>}<br>.ts-mc {<br>  position: absolute;<br>  left: 0;<br>  right: 0;<br>  bottom: 0;<br>  top: 0;<br>  margin: auto;<br>}</p>
<p>/<em> 辅助 </em>/<br>.mask-fixed-wrapper {<br>  width: 100%;<br>  height: 100%;<br>  position: fixed;<br>  left: 0;<br>  top: 0;<br>  background: rgba(0, 0, 0, 0.65);<br>  z-index: 999;<br>}<br>.bg-cover {<br>  background-size: cover;<br>  background-repeat: no-repeat;<br>  background-position: center center;<br>}<br>.bg-cover-all {<br>  background-size: 100% 100% </p>

        </section>
    </article>
    
        <!-- disqus 评论框 start -->
        <div class="comment">
            <div id="disqus_thread" class="disqus-thread">
              <i>加载评论框需要翻墙</i>
            </div>
        </div>
        <!-- disqus 评论框 end -->
    
        
  </div>
  <aside>
    
    <div class="toc-container">
        <h1>目录</h1>
        <div class="content">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript"><span class="toc-number">1.</span> <span class="toc-text">JavaScript</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-判断类型"><span class="toc-number">1.1.</span> <span class="toc-text">1. 判断类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Date"><span class="toc-number">1.2.</span> <span class="toc-text">2. Date</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Array"><span class="toc-number">1.3.</span> <span class="toc-text">3. Array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-String-字符串操作"><span class="toc-number">1.4.</span> <span class="toc-text">4. String 字符串操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Number"><span class="toc-number">1.5.</span> <span class="toc-text">5. Number</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Http"><span class="toc-number">1.6.</span> <span class="toc-text">6. Http</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-DOM"><span class="toc-number">1.7.</span> <span class="toc-text">7. DOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-Storage-储存操作"><span class="toc-number">1.8.</span> <span class="toc-text">8. Storage 储存操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-Other-其它操作"><span class="toc-number">1.9.</span> <span class="toc-text">9. Other 其它操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS"><span class="toc-number">2.</span> <span class="toc-text">CSS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-pc-reset-PC-样式初始化"><span class="toc-number">2.1.</span> <span class="toc-text">1. pc-reset PC 样式初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Phone-reset"><span class="toc-number">2.2.</span> <span class="toc-text">2. Phone-reset</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-公共样式提取"><span class="toc-number">2.3.</span> <span class="toc-text">3. 公共样式提取</span></a></li></ol></li></ol>
        </div>
    </div>
    
  </aside>
</main>

<!-- disqus 公共JS代码 -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = "https-isliangj-github-io";
  var disqus_identifier = "https://isliangj.github.io/2018/04/27/JS、CSS常用工具类封装/";
  var disqus_url = "https://isliangj.github.io/2018/04/27/JS、CSS常用工具类封装/";

  isAgent(getDisqus)

  // determine user agent in China
  function isAgent(cb) {
    var url = '//graph.facebook.com/feed?callback=h';
    var xhr = new XMLHttpRequest();
    var called = false;
    xhr.open('GET', url);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4 && xhr.status === 200) {
      called = true;
      cb(true);
      }
    };
    xhr.send();
    // timeout 1s, this facebook API is very fast.
    setTimeout(function() {
      if (!called) {
      xhr.abort();
      cb(false)
      }
    }, 1000);
  }

  function getDisqus(isAgent) {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; 
    dsq.async = true
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq)
  }
</script>
<!-- disqus 公共JS代码 end -->



  <footer>
  <div class="copyright">
    <div>
      &copy;
      2018 | Powered by
        <a href="https://hexo.io" target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by
      <a href="https://github.com/lewis-geek/hexo-theme-Aath" target="_blank">Aath</a>
    </div>
  </div>
</footer>



  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://"); document.write(unescape("%3Cspan id='cnzz_stat_icon_1273330571'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1273330571%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>
  <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="/lib/in-view.min.js"></script>
    <script src="/lib/lodash.min.js"></script>
      <script>
        var isDown = true
        var oldY = 0
        inView.offset(50)

        document.body.addEventListener('touchstart', function () { });

        window.addEventListener('scroll', _.throttle(e => {
          var currentY = window.scrollY
          if ((oldY - currentY) < 0) {
            isDown = true
          } else {
            isDown = false
          }
          oldY = currentY
        }, 250))

        $("article img").each(function () {
          var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
          $(this).wrapAll(strA);
        });

        $('.toc-link').each(function () {
          var href = $(this).attr("href");

          inView(href).on('exit', () => {
            if (isDown) {
              handleActive(href)
            }
          })

          inView(href).on('enter', () => {
            if (!isDown) {
              handleActive(href)
            }
          })

          this.onclick = function (e) {
            var pos = $(href).offset().top - 10;
            $("html,body").animate({ scrollTop: pos }, 300);
            setTimeout(() => {
              handleActive(href)
            }, 350)
            return false
          }
        })

        function handleActive(href) {
          document.querySelectorAll('.toc-link').forEach(elm => {
            elm.classList.remove('active')
          })
          document.querySelector(".toc [href='" + href + "']").classList.add('active')
        }
      </script>
      <script src="/lib/jquery.fancybox.min.js"></script>
        

</body>
</html>
